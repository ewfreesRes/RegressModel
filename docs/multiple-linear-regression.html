<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Multiple Linear Regression | Online Tutorial on Regression Modeling with Actuarial and Financial Applications</title>
  <meta name="description" content="Statistical techniques can be used to address new situations. This is important in a rapidly evolving risk management world. Analysts with a strong analytical background understand that a large data set can represent a treasure trove of information to be mined and can yield a strong competitive advantage. This course provides budding analysts with a foundation in multiple reression. Participants will learn about these statistical techniques using data on the demand for insurance, lottery sales, healthcare expenditures, and other applications. Although no specific knowledge of actuarial or risk management is presumed, the approach introduces applications in which statistical techniques can be used to analyze real data of interest." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Multiple Linear Regression | Online Tutorial on Regression Modeling with Actuarial and Financial Applications" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Statistical techniques can be used to address new situations. This is important in a rapidly evolving risk management world. Analysts with a strong analytical background understand that a large data set can represent a treasure trove of information to be mined and can yield a strong competitive advantage. This course provides budding analysts with a foundation in multiple reression. Participants will learn about these statistical techniques using data on the demand for insurance, lottery sales, healthcare expenditures, and other applications. Although no specific knowledge of actuarial or risk management is presumed, the approach introduces applications in which statistical techniques can be used to analyze real data of interest." />
  <meta name="github-repo" content="https://github.com/ewfreesRes/RegressModel" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Multiple Linear Regression | Online Tutorial on Regression Modeling with Actuarial and Financial Applications" />
  
  <meta name="twitter:description" content="Statistical techniques can be used to address new situations. This is important in a rapidly evolving risk management world. Analysts with a strong analytical background understand that a large data set can represent a treasure trove of information to be mined and can yield a strong competitive advantage. This course provides budding analysts with a foundation in multiple reression. Participants will learn about these statistical techniques using data on the demand for insurance, lottery sales, healthcare expenditures, and other applications. Although no specific knowledge of actuarial or risk management is presumed, the approach introduces applications in which statistical techniques can be used to analyze real data of interest." />
  

<meta name="author" content="Edward (Jed) Frees, University of Wisconsin-Madison, Australian National University" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-linear-regression.html"/>
<link rel="next" href="variable-selection.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>

<!-- Mathjax Version 2-->
<script type='text/x-mathjax-config'>
		MathJax.Hub.Config({
			extensions: ['tex2jax.js'],
			jax: ['input/TeX', 'output/HTML-CSS'],
			tex2jax: {
				inlineMath: [ ['$','$'], ['\\(','\\)'] ],
				displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
				processEscapes: true
			},
			'HTML-CSS': { availableFonts: ['TeX'] }
		});
</script>

<script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_HTML"> </script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/survey-jquery/survey.jquery.min.js"></script>
<link href="https://unpkg.com/survey-jquery/modern.min.css" type="text/css" rel="stylesheet">
<script src="https://unpkg.com/showdown/dist/showdown.min.js"></script>


<!-- Various toggle functions used throughout --> 
<script language="javascript">
function toggle(id1,id2) {
	var ele = document.getElementById(id1); var text = document.getElementById(id2);
	if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
		else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}
function togglecode(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show R Code";}
      else {ele.style.display = "block"; text.innerHTML = "Hide R Code";}}
function toggleEX(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Example";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Example";}}
function toggleTheory(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Theory";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Theory";}}
function toggleSolution(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}      
function toggleQuiz(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Quiz Solution";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Quiz Solution";}}      
</script>

<!-- A few functions for revealing definitions -->
<script language="javascript">
<!--   $( function() {
    $("#tabs").tabs();
  } ); -->

$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});

$(document).ready(function(){
    $('[data-toggle="popover"]').popover(); 
});
</script>

<script language="javascript">
function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>

<script language="javascript">
function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>

<script language="javascript">
function toggle(id1,id2) {
	var ele = document.getElementById(id1); var text = document.getElementById(id2);
	if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
		else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}
</script>

<script language="javascript">
function togglecode(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show R Code";}
      else {ele.style.display = "block"; text.innerHTML = "Hide R Code";}}
</script>
<script language="javascript">
function toggleEX(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Example";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Example";}}
</script>
<script language="javascript">
function toggleTheory(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Theory";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Theory";}}
</script>

<script language="javascript">
function toggleDet(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Details";}
      else {ele.style.display = "block"; text.innerHTML = "Hide  Details";}}
</script>

<script language="javascript">
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
</script>


<script src=https://cdn.datacamp.com/datacamp-light-latest.min.js></script>

<script>
$(document).ready(function(){
    $('[data-toggle="popover"]').popover(); 
});
</script>

<style>
/* Rearrange console label */
.datacamp-exercise ol li, .datacamp-exercise ul li {
  margin-bottom: 0em !important;
}

/* Remove bullet marker */
.datacamp-exercise ol li::before, .datacamp-exercise ul li::before {
  content: '' !important;
}
</style>


<script language="javascript">
var submitAnswer = function() {

  var radios = document.getElementsByName('choice');
  var val= "";
  for (var i = 0, length = radios.length; i < length; i++) {
      if (radios[i].checked) {
         val = radios[i].value; 
         break;
       }
  }
  
  if (val == "" ) {
    alert('please select choice answer');
  } else if ( val == "Correct" ) {
    alert('Answer is correct !');
  } else {
    alert('Answer is wrong');
  }
};
</script>





<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131253904-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-131253904-1');

</script>
=======



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Regression Modeling Online Tutorial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-regression-modeling"><i class="fa fa-check"></i>About Regression Modeling</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#tutorial-description"><i class="fa fa-check"></i>Tutorial Description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#welcome-to-the-tutorial-video"><i class="fa fa-check"></i>Welcome to the Tutorial Video</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html"><i class="fa fa-check"></i><b>1</b> Regression and the Normal Distribution</a>
<ul>
<li class="chapter" data-level="1.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#fitting-a-normal-distribution"><i class="fa fa-check"></i><b>1.1</b> Fitting a normal distribution</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video"><i class="fa fa-check"></i><b>1.1.1</b> Video</a></li>
<li class="chapter" data-level="1.1.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-fitting-galtons-height-data"><i class="fa fa-check"></i><b>1.1.2</b> Exercise. Fitting Galton’s height data</a></li>
<li class="chapter" data-level="1.1.3" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-visualizing-childs-height-distribution"><i class="fa fa-check"></i><b>1.1.3</b> Exercise. Visualizing child’s height distribution</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#visualizing-distributions"><i class="fa fa-check"></i><b>1.2</b> Visualizing distributions</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video-1"><i class="fa fa-check"></i><b>1.2.1</b> Video</a></li>
<li class="chapter" data-level="1.2.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-visualizing-bodily-injury-claims-with-density-plots"><i class="fa fa-check"></i><b>1.2.2</b> Exercise. Visualizing bodily injury claims with density plots</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#summarizing-distributions"><i class="fa fa-check"></i><b>1.3</b> Summarizing distributions</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video-2"><i class="fa fa-check"></i><b>1.3.1</b> Video</a></li>
<li class="chapter" data-level="1.3.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-summarizing-bodily-injury-claims-with-box-and-qq-plots"><i class="fa fa-check"></i><b>1.3.2</b> Exercise. Summarizing bodily injury claims with box and qq plots</a></li>
<li class="chapter" data-level="1.3.3" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-effects-on-distributions-of-removing-the-largest-claim"><i class="fa fa-check"></i><b>1.3.3</b> Exercise. Effects on distributions of removing the largest claim</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#transformations"><i class="fa fa-check"></i><b>1.4</b> Transformations</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video-3"><i class="fa fa-check"></i><b>1.4.1</b> Video</a></li>
<li class="chapter" data-level="1.4.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-distribution-of-transformed-bodily-injury-claims"><i class="fa fa-check"></i><b>1.4.2</b> Exercise. Distribution of transformed bodily injury claims</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html"><i class="fa fa-check"></i><b>2</b> Basic Linear Regression</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#correlation"><i class="fa fa-check"></i><b>2.1</b> Correlation</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-4"><i class="fa fa-check"></i><b>2.1.1</b> Video</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-correlations-and-the-wisconsin-lottery"><i class="fa fa-check"></i><b>2.1.2</b> Exercise. Correlations and the Wisconsin lottery</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#method-of-least-squares"><i class="fa fa-check"></i><b>2.2</b> Method of least squares</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-5"><i class="fa fa-check"></i><b>2.2.1</b> Video</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-least-squares-fit-using-housing-prices"><i class="fa fa-check"></i><b>2.2.2</b> Exercise. Least squares fit using housing prices</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#understanding-variability"><i class="fa fa-check"></i><b>2.3</b> Understanding variability</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-6"><i class="fa fa-check"></i><b>2.3.1</b> Video</a></li>
<li class="chapter" data-level="2.3.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-summarizing-measures-of-uncertainty"><i class="fa fa-check"></i><b>2.3.2</b> Exercise. Summarizing measures of uncertainty</a></li>
<li class="chapter" data-level="2.3.3" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-effects-of-linear-transforms-on-measures-of-uncertainty"><i class="fa fa-check"></i><b>2.3.3</b> Exercise. Effects of linear transforms on measures of uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#statistical-inference"><i class="fa fa-check"></i><b>2.4</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-7"><i class="fa fa-check"></i><b>2.4.1</b> Video</a></li>
<li class="chapter" data-level="2.4.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-statistical-inference-and-wisconsin-lottery"><i class="fa fa-check"></i><b>2.4.2</b> Exercise. Statistical inference and Wisconsin lottery</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#diagnostics"><i class="fa fa-check"></i><b>2.5</b> Diagnostics</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-8"><i class="fa fa-check"></i><b>2.5.1</b> Video</a></li>
<li class="chapter" data-level="2.5.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-assessing-outliers-in-lottery-sales"><i class="fa fa-check"></i><b>2.5.2</b> Exercise. Assessing outliers in lottery sales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html"><i class="fa fa-check"></i><b>3</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#term-life-data"><i class="fa fa-check"></i>Term Life Data</a></li>
<li class="chapter" data-level="3.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#method-of-least-squares-1"><i class="fa fa-check"></i><b>3.1</b> Method of least squares</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#video-9"><i class="fa fa-check"></i><b>3.1.1</b> Video</a></li>
<li class="chapter" data-level="3.1.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-least-squares-and-term-life-data"><i class="fa fa-check"></i><b>3.1.2</b> Exercise. Least squares and term life data</a></li>
<li class="chapter" data-level="3.1.3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-interpreting-coefficients-as-proportional-changes"><i class="fa fa-check"></i><b>3.1.3</b> Exercise. Interpreting coefficients as proportional changes</a></li>
<li class="chapter" data-level="3.1.4" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-interpreting-coefficients-as-elasticities"><i class="fa fa-check"></i><b>3.1.4</b> Exercise. Interpreting coefficients as elasticities</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#statistical-inference-and-multiple-linear-regresson"><i class="fa fa-check"></i><b>3.2</b> Statistical inference and multiple linear regresson</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#video-10"><i class="fa fa-check"></i><b>3.2.1</b> Video</a></li>
<li class="chapter" data-level="3.2.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-statistical-inference-and-term-life"><i class="fa fa-check"></i><b>3.2.2</b> Exercise. Statistical inference and term life</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#binary-variables"><i class="fa fa-check"></i><b>3.3</b> Binary variables</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#video-11"><i class="fa fa-check"></i><b>3.3.1</b> Video</a></li>
<li class="chapter" data-level="3.3.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-binary-variables-and-term-life"><i class="fa fa-check"></i><b>3.3.2</b> Exercise. Binary variables and term life</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#categorical-variables"><i class="fa fa-check"></i><b>3.4</b> Categorical variables</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#video-12"><i class="fa fa-check"></i><b>3.4.1</b> Video</a></li>
<li class="chapter" data-level="3.4.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-categorical-variables-and-wisconsin-hospital-costs"><i class="fa fa-check"></i><b>3.4.2</b> Exercise. Categorical variables and Wisconsin hospital costs</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#general-linear-hypothesis"><i class="fa fa-check"></i><b>3.5</b> General linear hypothesis</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#video-13"><i class="fa fa-check"></i><b>3.5.1</b> Video</a></li>
<li class="chapter" data-level="3.5.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-hypothesis-testing-and-term-life"><i class="fa fa-check"></i><b>3.5.2</b> Exercise. Hypothesis testing and term life</a></li>
<li class="chapter" data-level="3.5.3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-hypothesis-testing-and-wisconsin-hospital-costs"><i class="fa fa-check"></i><b>3.5.3</b> Exercise. Hypothesis testing and Wisconsin hospital costs</a></li>
<li class="chapter" data-level="3.5.4" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#exercise.-hypothesis-testing-and-auto-claims"><i class="fa fa-check"></i><b>3.5.4</b> Exercise. Hypothesis testing and auto claims</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="variable-selection.html"><a href="variable-selection.html"><i class="fa fa-check"></i><b>4</b> Variable Selection</a>
<ul>
<li class="chapter" data-level="4.1" data-path="variable-selection.html"><a href="variable-selection.html#an-iterative-approach-to-data-analysis-and-modeling"><i class="fa fa-check"></i><b>4.1</b> An iterative approach to data analysis and modeling</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="variable-selection.html"><a href="variable-selection.html#video-14"><i class="fa fa-check"></i><b>4.1.1</b> Video</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="variable-selection.html"><a href="variable-selection.html#automatic-variable-selection-procedures"><i class="fa fa-check"></i><b>4.2</b> Automatic variable selection procedures</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="variable-selection.html"><a href="variable-selection.html#video-15"><i class="fa fa-check"></i><b>4.2.1</b> Video</a></li>
<li class="chapter" data-level="4.2.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-data-snooping-in-stepwise-regression"><i class="fa fa-check"></i><b>4.2.2</b> Exercise. Data-snooping in stepwise regression</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="variable-selection.html"><a href="variable-selection.html#residual-analysis"><i class="fa fa-check"></i><b>4.3</b> Residual analysis</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="variable-selection.html"><a href="variable-selection.html#video-16"><i class="fa fa-check"></i><b>4.3.1</b> Video</a></li>
<li class="chapter" data-level="4.3.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-residual-analysis-and-risk-manager-survey"><i class="fa fa-check"></i><b>4.3.2</b> Exercise. Residual analysis and risk manager survey</a></li>
<li class="chapter" data-level="4.3.3" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-added-variable-plot-and-refrigerator-prices"><i class="fa fa-check"></i><b>4.3.3</b> Exercise. Added variable plot and refrigerator prices</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="variable-selection.html"><a href="variable-selection.html#unusual-observations"><i class="fa fa-check"></i><b>4.4</b> Unusual observations</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="variable-selection.html"><a href="variable-selection.html#video-17"><i class="fa fa-check"></i><b>4.4.1</b> Video</a></li>
<li class="chapter" data-level="4.4.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-outlier-example"><i class="fa fa-check"></i><b>4.4.2</b> Exercise. Outlier example</a></li>
<li class="chapter" data-level="4.4.3" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-high-leverage-and-risk-manager-survey"><i class="fa fa-check"></i><b>4.4.3</b> Exercise. High leverage and risk manager survey</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="variable-selection.html"><a href="variable-selection.html#collinearity"><i class="fa fa-check"></i><b>4.5</b> Collinearity</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="variable-selection.html"><a href="variable-selection.html#video-18"><i class="fa fa-check"></i><b>4.5.1</b> Video</a></li>
<li class="chapter" data-level="4.5.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-collinearity-and-term-life"><i class="fa fa-check"></i><b>4.5.2</b> Exercise. Collinearity and term life</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="variable-selection.html"><a href="variable-selection.html#selection-criteria"><i class="fa fa-check"></i><b>4.6</b> Selection criteria</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="variable-selection.html"><a href="variable-selection.html#video-19"><i class="fa fa-check"></i><b>4.6.1</b> Video</a></li>
<li class="chapter" data-level="4.6.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-cross-validation-and-term-life"><i class="fa fa-check"></i><b>4.6.2</b> Exercise. Cross-validation and term life</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html"><i class="fa fa-check"></i><b>5</b> Interpreting Regression Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#case-study-meps-health-expenditures"><i class="fa fa-check"></i><b>5.1</b> Case study: MEPS health expenditures</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#video-20"><i class="fa fa-check"></i><b>5.1.1</b> Video</a></li>
<li class="chapter" data-level="5.1.2" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-summarizing-data"><i class="fa fa-check"></i><b>5.1.2</b> Exercise. Summarizing data</a></li>
<li class="chapter" data-level="5.1.3" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-fit-a-benchmark-multiple-linear-regression-model"><i class="fa fa-check"></i><b>5.1.3</b> Exercise. Fit a benchmark multiple linear regression model</a></li>
<li class="chapter" data-level="5.1.4" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-variable-selection"><i class="fa fa-check"></i><b>5.1.4</b> Exercise. Variable selection</a></li>
<li class="chapter" data-level="5.1.5" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-model-comparisons-using-cross-validation"><i class="fa fa-check"></i><b>5.1.5</b> Exercise. Model comparisons using cross-validation</a></li>
<li class="chapter" data-level="5.1.6" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-out-of-sample-validation"><i class="fa fa-check"></i><b>5.1.6</b> Exercise. Out of sample validation</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#what-the-modeling-procedure-tells-us"><i class="fa fa-check"></i><b>5.2</b> What the modeling procedure tells us</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#video-21"><i class="fa fa-check"></i><b>5.2.1</b> Video</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#the-importance-of-variable-selection"><i class="fa fa-check"></i><b>5.3</b> The importance of variable selection</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#video-22"><i class="fa fa-check"></i><b>5.3.1</b> Video</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/ewfreesRes/RegressModel" target="blank">Regression Modeling Tutorial on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Online Tutorial on <code>Regression Modeling with Actuarial and Financial Applications</code></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multiple-linear-regression" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Multiple Linear Regression<a href="multiple-linear-regression.html#multiple-linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>Chapter description</strong></p>
<p>This chapter introduces linear regression in the case of several explanatory variables, known as multiple linear regression (<strong>MLR</strong>). Many basic linear regression concepts extend directly, including goodness of fit measures such as the coefficient of determination and inference using t-statistics. Multiple linear regression models provide a framework for summarizing highly complex, multivariate data. Because this framework requires only linearity in the parameters, we are able to fit models that are nonlinear functions of the explanatory variables, thus providing a wide scope of potential applications.</p>
<div id="term-life-data" class="section level2 unnumbered hasAnchor">
<h2>Term Life Data<a href="multiple-linear-regression.html#term-life-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25916071/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=0_izascs5a&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;&amp;wid=0_cxgam03z" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
<div id="video-overhead-details-8" class="section level4 unnumbered hasAnchor">
<h4>Video Overhead Details<a href="multiple-linear-regression.html#video-overhead-details-8" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="tab">
<p><button class="tablinks" onclick="openTab(event, 'Over3.0A')">A Details. Demand for term life insurance</button>
<button class="tablinks" onclick="openTab(event, 'Over3.0B')">B Details. Term life insurance summary statistics</button>
<button class="tablinks" onclick="openTab(event, 'Over3.0C')">C Details. Summary statistics</button>
<button class="tablinks" onclick="openTab(event, 'Over3.0D')">D Details. Scatter plots of income versus face in original and logarithmic units</button></p>
</div>
<div id="Over3.0A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
A Details. Demand for term life insurance
</h3>
<p>
<p>“Who buys insurance and how much do they buy?”</p>
<ul>
<li>Companies have data on current customers</li>
<li>How do get info on potential (new) customers?</li>
</ul>
<p>To understand demand, consider the Survey of Consumer Finances (<em>SCF</em>)</p>
<ul>
<li>This is a nationally representative sample that contains extensive information on potential U.S. customers.</li>
<li>We study a random sample of 500 of the 4,519 households with positive income that were interviewed in the 2004 survey.</li>
<li>We now focus on <em>n</em> = 275 households that purchased term life insurance</li>
</ul>
</p>
</div>
<div id="Over3.0B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
B Details. Term life insurance summary statistics
</h3>
<p>
<p>We study <em>y = face</em>, the amount that the company will pay in the event of the death of the named insured.</p>
<p>We focus on <em>k</em> = 3 explanatory variables
- annual <em>income</em>,
- the number of years of <em>education</em> of the survey respondent and
- the number of household members, <em>numhh</em>.</p>
<p>The data suggest that <em>income</em> and <em>face</em> are skewed so we also introduce logarithmic versions.</p>
</p>
</div>
<div id="Over3.0C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
C Details. Summary statistics
</h3>
<p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="multiple-linear-regression.html#cb62-1" tabindex="-1"></a><span class="co">#Term &lt;- read.csv(&quot;CSVData\\term_life.csv&quot;, header = TRUE)</span></span>
<span id="cb62-2"><a href="multiple-linear-regression.html#cb62-2" tabindex="-1"></a>Term <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://assets.datacamp.com/production/repositories/2610/datasets/efc64bc2d78cf6b48ad2c3f5e31800cb773de261/term_life.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb62-3"><a href="multiple-linear-regression.html#cb62-3" tabindex="-1"></a><span class="co">#  PICK THE SUBSET OF THE DATA CORRESPONDING TO TERM PURCHASE</span></span>
<span id="cb62-4"><a href="multiple-linear-regression.html#cb62-4" tabindex="-1"></a>Term1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(Term, <span class="at">subset =</span> face <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb62-5"><a href="multiple-linear-regression.html#cb62-5" tabindex="-1"></a><span class="fu">str</span>(Term1)</span>
<span id="cb62-6"><a href="multiple-linear-regression.html#cb62-6" tabindex="-1"></a><span class="fu">head</span>(Term1)</span>
<span id="cb62-7"><a href="multiple-linear-regression.html#cb62-7" tabindex="-1"></a></span>
<span id="cb62-8"><a href="multiple-linear-regression.html#cb62-8" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb62-9"><a href="multiple-linear-regression.html#cb62-9" tabindex="-1"></a>Term2 <span class="ot">&lt;-</span> Term1[, <span class="fu">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;face&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;logface&quot;</span>, <span class="st">&quot;logincome&quot;</span>, <span class="st">&quot;numhh&quot;</span>)]</span>
<span id="cb62-10"><a href="multiple-linear-regression.html#cb62-10" tabindex="-1"></a><span class="co">#options(scipen = 100, digits = 4)</span></span>
<span id="cb62-11"><a href="multiple-linear-regression.html#cb62-11" tabindex="-1"></a><span class="fu">head</span>(Term2)</span>
<span id="cb62-12"><a href="multiple-linear-regression.html#cb62-12" tabindex="-1"></a><span class="fu">describe</span>(Term2)[,<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">8</span>,<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">2</span>)]</span></code></pre></div>
<pre><code>&#39;data.frame&#39;:   275 obs. of  7 variables:
 $ education: int  16 9 16 17 11 16 17 16 14 12 ...
 $ face     : int  20000 130000 1500000 50000 220000 600000 100000 2500000 250000 50000 ...
 $ income   : int  43000 12000 120000 40000 28000 100000 112000 15000 32000 25000 ...
 $ logface  : num  9.9 11.8 14.2 10.8 12.3 ...
 $ logincome: num  10.67 9.39 11.7 10.6 10.24 ...
 $ numhh    : int  3 3 5 4 4 3 2 4 1 2 ...
 $ marstat  : int  1 1 1 1 2 1 1 1 0 1 ...
  education    face income   logface logincome numhh marstat
1        16   20000  43000  9.903488 10.668955     3       1
2         9  130000  12000 11.775290  9.392662     3       1
3        16 1500000 120000 14.220976 11.695247     5       1
4        17   50000  40000 10.819778 10.596635     4       1
6        11  220000  28000 12.301383 10.239960     4       2
8        16  600000 100000 13.304685 11.512925     3       1
  education    face income   logface logincome numhh
1        16   20000  43000  9.903488 10.668955     3
2         9  130000  12000 11.775290  9.392662     3
3        16 1500000 120000 14.220976 11.695247     5
4        17   50000  40000 10.819778 10.596635     4
6        11  220000  28000 12.301383 10.239960     4
8        16  600000 100000 13.304685 11.512925     3
               mean         sd    min    median       max   n
education     14.52       2.55   2.00     16.00 1.700e+01 275
face      747581.45 1674362.43 800.00 150000.00 1.400e+07 275
income    208974.62  824009.77 260.00  65000.00 1.000e+07 275
logface       11.99       1.87   6.68     11.92 1.645e+01 275
logincome     11.15       1.30   5.56     11.08 1.612e+01 275
numhh          2.96       1.49   1.00      3.00 9.000e+00 275</code></pre>
</p>
</div>
<div id="Over3.0D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
D Details. Scatter plots of income versus face in original and logarithmic units
</h3>
<p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="multiple-linear-regression.html#cb64-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb64-2"><a href="multiple-linear-regression.html#cb64-2" tabindex="-1"></a><span class="fu">plot</span>(Term2<span class="sc">$</span>income, Term2<span class="sc">$</span>face, <span class="at">xlab =</span> <span class="st">&quot;income&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;face&quot;</span>)</span>
<span id="cb64-3"><a href="multiple-linear-regression.html#cb64-3" tabindex="-1"></a><span class="fu">plot</span>(Term2<span class="sc">$</span>logincome, Term2<span class="sc">$</span>logface, <span class="at">xlab =</span> <span class="st">&quot;log&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;log face&quot;</span>)</span></code></pre></div>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-104-1.png" width="672" /></p>
</p>
</div>
</div>
</div>
<div id="method-of-least-squares-1" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Method of least squares<a href="multiple-linear-regression.html#method-of-least-squares-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Interpret correlation coefficients by visualizing a scatterplot matrix</li>
<li>Fit a plane to data using the method of least squares</li>
<li>Predict an observation using a least squares fitted plane</li>
</ul>
<hr />
<div id="video-9" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Video<a href="multiple-linear-regression.html#video-9" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25916071/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=0_9zszyh42&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;&amp;wid=0_0xy78e1p" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
<div id="video-overhead-details-9" class="section level4 unnumbered hasAnchor">
<h4>Video Overhead Details<a href="multiple-linear-regression.html#video-overhead-details-9" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="tab">
<p><button class="tablinks" onclick="openTab(event, 'Over3.1A')">A Details. Correlation table</button>
<button class="tablinks" onclick="openTab(event, 'Over3.1B')">B Details. Scatterplot matrix</button>
<button class="tablinks" onclick="openTab(event, 'Over3.1C')">C Details. Visualizing a regression plane</button>
<button class="tablinks" onclick="openTab(event, 'Over3.1D')">D Details. Method of least squares</button>
<button class="tablinks" onclick="openTab(event, 'Over3.1E')">E Details. Fit a multiple linear regression model</button></p>
</div>
<div id="Over3.1A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
A Details. Correlation table
</h3>
<p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="multiple-linear-regression.html#cb65-1" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">cor</span>(Term2), <span class="at">digits=</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>          education  face income logface logincome  numhh
education     1.000 0.244  0.163   0.383     0.343 -0.064
face          0.244 1.000  0.217   0.656     0.323  0.107
income        0.163 0.217  1.000   0.251     0.518  0.142
logface       0.383 0.656  0.251   1.000     0.482  0.288
logincome     0.343 0.323  0.518   0.482     1.000  0.179
numhh        -0.064 0.107  0.142   0.288     0.179  1.000</code></pre>
</p>
</div>
<div id="Over3.1B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
B Details. Scatterplot matrix
</h3>
<p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="multiple-linear-regression.html#cb67-1" tabindex="-1"></a>Term3 <span class="ot">&lt;-</span> Term1[,<span class="fu">c</span>(<span class="st">&quot;numhh&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;logincome&quot;</span>, <span class="st">&quot;logface&quot;</span>)]</span>
<span id="cb67-2"><a href="multiple-linear-regression.html#cb67-2" tabindex="-1"></a><span class="fu">pairs</span>(Term3, <span class="at">upper.panel =</span> <span class="cn">NULL</span>, <span class="at">gap =</span> <span class="dv">0</span>, <span class="at">cex.labels =</span> <span class="fl">1.25</span>)</span></code></pre></div>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-106-1.png" width="672" /></p>
</p>
</div>
<div id="Over3.1C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
C Details. Visualizing a regression plane
</h3>
<p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="multiple-linear-regression.html#cb68-1" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">3</span>, <span class="dv">16</span>, <span class="at">length =</span> <span class="dv">15</span>)</span>
<span id="cb68-2"><a href="multiple-linear-regression.html#cb68-2" tabindex="-1"></a>logincome <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">15</span>, <span class="at">length =</span> <span class="dv">15</span>)</span>
<span id="cb68-3"><a href="multiple-linear-regression.html#cb68-3" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(education,logincome){ </span>
<span id="cb68-4"><a href="multiple-linear-regression.html#cb68-4" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">+</span> <span class="fl">0.221</span><span class="sc">*</span>education <span class="sc">+</span> <span class="fl">0.354</span><span class="sc">*</span>logincome</span>
<span id="cb68-5"><a href="multiple-linear-regression.html#cb68-5" tabindex="-1"></a>}</span>
<span id="cb68-6"><a href="multiple-linear-regression.html#cb68-6" tabindex="-1"></a>logface <span class="ot">&lt;-</span> <span class="fu">outer</span>(education, logincome, f)</span>
<span id="cb68-7"><a href="multiple-linear-regression.html#cb68-7" tabindex="-1"></a><span class="fu">persp</span>(education, logincome, logface, <span class="at">theta =</span> <span class="dv">30</span>, </span>
<span id="cb68-8"><a href="multiple-linear-regression.html#cb68-8" tabindex="-1"></a>      <span class="at">phi =</span> <span class="dv">30</span>, <span class="at">expand =</span> <span class="fl">0.5</span>, <span class="at">ticktype =</span> <span class="st">&quot;detailed&quot;</span>)</span></code></pre></div>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-107-1.png" width="672" /></p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="multiple-linear-regression.html#cb69-1" tabindex="-1"></a><span class="fu">rm</span>(education,logincome,logface)</span></code></pre></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="multiple-linear-regression.html#cb70-1" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">3</span>, <span class="dv">16</span>, <span class="at">length =</span> <span class="dv">15</span>)</span>
<span id="cb70-2"><a href="multiple-linear-regression.html#cb70-2" tabindex="-1"></a>logincome <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">15</span>, <span class="at">length =</span> <span class="dv">15</span>)</span>
<span id="cb70-3"><a href="multiple-linear-regression.html#cb70-3" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(education,logincome){ </span>
<span id="cb70-4"><a href="multiple-linear-regression.html#cb70-4" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">+</span> <span class="fl">0.221</span><span class="sc">*</span>education <span class="sc">+</span> <span class="fl">0.354</span><span class="sc">*</span>logincome</span>
<span id="cb70-5"><a href="multiple-linear-regression.html#cb70-5" tabindex="-1"></a>}</span>
<span id="cb70-6"><a href="multiple-linear-regression.html#cb70-6" tabindex="-1"></a>logface <span class="ot">&lt;-</span> <span class="fu">outer</span>(education, logincome, f)</span>
<span id="cb70-7"><a href="multiple-linear-regression.html#cb70-7" tabindex="-1"></a><span class="fu">persp</span>(education, logincome, logface, <span class="at">theta =</span> <span class="dv">30</span>, </span>
<span id="cb70-8"><a href="multiple-linear-regression.html#cb70-8" tabindex="-1"></a>      <span class="at">phi =</span> <span class="dv">30</span>, <span class="at">expand =</span> <span class="fl">0.5</span>, <span class="at">ticktype =</span> <span class="st">&quot;simple&quot;</span>, <span class="co">#ticktype = &quot;detailed&quot;, #</span></span>
<span id="cb70-9"><a href="multiple-linear-regression.html#cb70-9" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;x1&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;x2&quot;</span>,<span class="at">zlab=</span><span class="st">&quot;y&quot;</span>, <span class="at">nticks =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-108-1.png" width="672" /></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="multiple-linear-regression.html#cb71-1" tabindex="-1"></a><span class="fu">rm</span>(education,logincome,logface)</span></code></pre></div>
</p>
</div>
<div id="Over3.1D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
D Details. Method of least squares
</h3>
<p>
<ul>
<li>For observation <span class="math inline">\(\{(y, x_1, \ldots, x_k)\}\)</span>, the height of the regression plane is <span class="math display">\[b_0 + b_1 x_1 + \cdots + b_k x_k .\]</span></li>
<li>Thus, <span class="math inline">\(y - (b_0 + b_1 x_1 + \cdots + b_k x_k)\)</span> represents the deviation.</li>
<li>The sum of squared deviations is <span class="math display">\[SS(b_0, \ldots, b_k) = \sum (y - (b_0 + b_1 x_1 + \cdots + b_k x_k))^2 .\]</span></li>
<li>The <em>method of least squares</em> – determine values of <span class="math inline">\(b_0, \ldots, b_k\)</span> that minimize <span class="math inline">\(SS\)</span>.</li>
</ul>
</p>
</div>
<div id="Over3.1E" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
E Details. Fit a multiple linear regression model
</h3>
<p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="multiple-linear-regression.html#cb72-1" tabindex="-1"></a>Term_mlr <span class="ot">&lt;-</span> <span class="fu">lm</span>(logface <span class="sc">~</span> education <span class="sc">+</span> numhh <span class="sc">+</span> logincome, <span class="at">data =</span> Term2)</span>
<span id="cb72-2"><a href="multiple-linear-regression.html#cb72-2" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coefficients</span>(Term_mlr), <span class="at">digits=</span><span class="dv">4</span>)</span>
<span id="cb72-3"><a href="multiple-linear-regression.html#cb72-3" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">logincome =</span> <span class="fu">log</span>(<span class="dv">60000</span>), <span class="at">education =</span> <span class="dv">12</span>, <span class="at">numhh =</span> <span class="dv">3</span>)</span>
<span id="cb72-4"><a href="multiple-linear-regression.html#cb72-4" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">predict</span>(Term_mlr, newdata))</span></code></pre></div>
<pre><code>(Intercept)   education       numhh   logincome 
     2.5841      0.2064      0.3060      0.4935 
       1 
90135.86 </code></pre>
</p>
</div>
</div>
</div>
<div id="exercise.-least-squares-and-term-life-data" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Exercise. Least squares and term life data<a href="multiple-linear-regression.html#exercise.-least-squares-and-term-life-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>The prior video introduced the <em>Survey of Consumer Finances</em> (SCF) term life data. A subset consisting of only those who purchased term life insurance, has already been read into a dataframe <code>Term2</code>.</p>
<p>Suppose that you wish to predict the amount of term life insurance that someone will purchase but are uneasy about the <code>education</code> variable. The SCF <code>education</code> variable is the number of completed years of schooling and so 12 corresponds to completing high school in the US. Your sense is that, for purposes of purchasing life insurance, high school graduates and those that attend college should be treated the same. So, in this exercise, your will create a new variable, <code>education1</code>, that is equal to years of education for those with education less than or equal to 12 and is equal to 12 otherwise.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Use the <a href="https://www.rdocumentation.org/packages/mc2d/versions/0.1-17/topics/pmin">pmin()</a> function to create the <code>education1</code> variable as part of the <code>Term2</code> dataframe.</li>
<li>Check your work by examining summary statistics for the revised <code>Term2</code> dataframe.</li>
<li>Examine correlations for the revised dataframe.</li>
<li>Using the method of least squares and the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.5.0/topics/lm">lm()</a>, fit a MLR model using <code>logface</code> as the dependent variables and using <code>education</code>, <code>numhh</code>, and <code>logincome</code> as explanatory variables.</li>
<li>With this fitted model and the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.5.0/topics/predict">predict()</a>, predict the face amount of insurance that someone with income of 40,000, 11 years of education, and 4 people in the household would purchase.</li>
</ul>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNUZXJtIDwtIHJlYWQuY3N2KFwiQ1NWRGF0YVxcXFx0ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvZWZjNjRiYzJkNzhjZjZiNDhhZDJjM2Y1ZTMxODAwY2I3NzNkZTI2MS90ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtMSA8LSBzdWJzZXQoVGVybSwgc3Vic2V0ID0gZmFjZSA+IDApXG5UZXJtMiA8LSBUZXJtMVssIGMoXCJlZHVjYXRpb25cIiwgXCJmYWNlXCIsIFwiaW5jb21lXCIsIFwibG9nZmFjZVwiLCBcImxvZ2luY29tZVwiLCBcIm51bWhoXCIpXSIsInNhbXBsZSI6IiMgQ3JlYXRlIHRoZSBgZWR1Y2F0aW9uMWAgdmFyaWFibGUgYXMgcGFydCBvZiB0aGUgYFRlcm0yYCBkYXRhZnJhbWUuXG5UZXJtMiRlZHVjYXRpb24xIDwtIHBtaW4oMTIsIFRlcm0yJGVkdWNhdGlvbilcblxuIyBDaGVjayB5b3VyIHdvcmsgYnkgZXhhbWluaW5nIHN1bW1hcnkgc3RhdGlzdGljcyBmb3IgdGhlIHJldmlzZWQgYFRlcm0yYCBkYXRhZnJhbWUuXG5zdW1tYXJ5KF9fXylcblxuIyBFeGFtaW5lIGNvcnJlbGF0aW9ucyBmb3IgdGhlIHJldmlzZWQgZGF0YWZyYW1lLlxucm91bmQoY29yKF9fXyksIGRpZ2l0cz0zKVxuXG4jIEZpdCBhIE1MUiBtb2RlbCB1c2luZyBgbG9nZmFjZWAgYXMgdGhlIGRlcGVuZGVudCB2YXJpYWJsZXMgYW5kIHVzaW5nIGBlZHVjYXRpb25gLCBgbnVtaGhgLCBhbmQgYGxvZ2luY29tZWAgYXMgZXhwbGFuYXRvcnkgdmFyaWFibGVzLlxuVGVybV9tbHIyIDwtIGxtKGxvZ2ZhY2UgfiBfX18gKyBudW1oaCArIGxvZ2luY29tZSwgZGF0YSA9IFRlcm0yKVxuXG4jIFByZWRpY3QgdGhlIGZhY2UgYW1vdW50IG9mIGluc3VyYW5jZSB0aGF0IHNvbWVvbmUgd2l0aCBpbmNvbWUgb2YgNDAsMDAwLCAxMSB5ZWFycyBvZiBlZHVjYXRpb24sIGFuZCA0IHBlb3BsZSBpbiB0aGUgaG91c2Vob2xkIHdvdWxkIHB1cmNoYXNlLlxubmV3ZGF0YSA8LSBkYXRhLmZyYW1lKGxvZ2luY29tZSA9IGxvZyg0MDAwMCksIGVkdWNhdGlvbjEgPSAxMSwgbnVtaGggPSA0KVxuZXhwKHByZWRpY3QoX19fLCBuZXdkYXRhKSkiLCJzb2x1dGlvbiI6IlRlcm0yJGVkdWNhdGlvbjEgPC0gcG1pbigxMiwgVGVybTIkZWR1Y2F0aW9uKVxuc3VtbWFyeShUZXJtMilcbnJvdW5kKGNvcihUZXJtMiksIGRpZ2l0cz0zKVxuVGVybV9tbHIyIDwtIGxtKGxvZ2ZhY2UgfiBlZHVjYXRpb24xICsgbnVtaGggKyBsb2dpbmNvbWUsIGRhdGEgPSBUZXJtMilcbm5ld2RhdGEgPC0gZGF0YS5mcmFtZShsb2dpbmNvbWUgPSBsb2coNDAwMDApLCBlZHVjYXRpb24xID0gMTEsIG51bWhoID0gNClcbmV4cChwcmVkaWN0KFRlcm1fbWxyMiwgbmV3ZGF0YSkpIiwic2N0IjoiZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwiVGVybTJcIikgJT4lIGNoZWNrX2NvbHVtbihcImVkdWNhdGlvbjFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJNYWtlIHN1cmUgdG8gYXNzaWduIHRoZSBtb2RpZmllZCBlZHVjYXRpb24gdmFyaWFibGUgdG8gYGVkdWNhdGlvbjFgIHVzaW5nIGBwbWluYC5cIilcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwic3VtbWFyeVwiLCBub3RfY2FsbGVkX21zZz1cIk1ha2UgdXNlIG9mIGBzdW1tYXJ5YCB0byBmaW5kIHN1bW1hcnkgc3RhdHMgb2YgYFRlcm0yYC5cIikgJT4lICBjaGVja19hcmcoLiwgXCJvYmplY3RcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJNYWtlIHN1cmUgdG8gcnVuIHN1bW1hcnkgb24gYFRlcm0yYC5cIikgXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcInN1bW1hcnlcIiwgbm90X2NhbGxlZF9tc2c9XCJNYWtlIHVzZSBvZiBgc3VtbWFyeWAgdG8gZmluZCBzdW1tYXJ5IHN0YXRzIG9mIGBUZXJtMmAuXCIpICU+JSAgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKClcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwicm91bmRcIiwgbm90X2NhbGxlZF9tc2c9XCJVc2UgYHJvdW5kYCB0byByb3VuZCB0aGUgY29ycmVsYXRpb25zIHRvIDMgZGlnaXRzLiBcIiApICU+JSB7XG4gIGNoZWNrX2FyZyguLCBcInhcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJNYWtlIHN1cmUgdG8gY2FsbCBgcm91bmRgIG9uIHRoZSBjb3JyZWxhdGlvbnMgb2YgYWxsIHZhcmlhYmxlcyBpbiBgVGVybTJgLlwiKVxuICBjaGVja19hcmcoLiwgXCJkaWdpdHNcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJQbGVhc2Ugcm91bmQgdGhlc2UgY29ycmVsYXRpb25zIHRvIDMgZGlnaXRzLiBcIilcbn1cbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIlRlcm1fbWxyMlwiLCB1bmRlZmluZWRfbXNnPVwiTWFrZSBzdXJlIHRvIGFzc2lnbiB5b3VyIGxpbmVhciBtb2RlbCB0byBgVGVybV9tbHIyYC5cIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJNYWtlIHN1cmUgdG8gbW9kZWwgYGxvZ2ZhY2VgIGJhc2VkIG9uIGBlZHVjYXRpb24xYCwgYG51bWhoYCwgYW5kIGBsb2dpbmNvbWVgLlwiKVxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJsbVwiKSAlPiUge1xuICBjaGVja19hcmcoLiwgXCJmb3JtdWxhXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiTWFrZSBzdXJlIHRvIG1vZGVsIGBsb2dmYWNlYCBiYXNlZCBvbiBgZWR1Y2F0aW9uMWAsIGBudW1oaGAsIGFuZCBgbG9naW5jb21lYC5cIilcbiAgY2hlY2tfYXJnKC4sIFwiZGF0YVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIk1ha2Ugc3VyZSB0byBzcGVjaWZ5IG91ciBkYXRhIGNvbWVzIGZyb20gYFRlcm0yYC5cIilcbn1cbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIm5ld2RhdGFcIiwgdW5kZWZpbmVkX21zZz1cIk1ha2Ugc3VyZSB0byBhc3NpZ24gb3VyIG5ldyBkYXRhIHRvIGBuZXdkYXRhYC5cIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJtYWtlIHN1cmUgdG8gYXNzaWduIGVhY2ggY29sdW1uIG9mIHRoZSBkYXRhZnJhbWUgdG8gaXRzIHN0YXRlZCB2YWx1ZS4gXCIpXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcImV4cFwiLCBub3RfY2FsbGVkX21zZz1cIk1ha2Ugc3VyZSB0byB0YWtlIHRoZSBleHBvbmVudGlhbCBvZiB5b3VyIHByZWRpY3Rpb24hIFwiKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJUaGUgYXJndW1lbnQgaW4gYGV4cGAgc2hvdWxkIGJlIGNhbGxlZCBvbiB0aGUgcHJlZGljdGlvbi4gXCIpXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcInByZWRpY3RcIiwgbm90X2NhbGxlZF9tc2c9XCJVdGlsaXplIGBwcmVkaWN0YCB0byBjcmVhdGUgcHJlZGljdGlvbnMgdXNpbmcgdGhpcyBtb2RlbC4gXCIpICU+JSB7XG4gIGNoZWNrX2FyZyguLCBcIm9iamVjdFwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIk1ha2Ugc3VyZSB0byBzcGVjaWZ5IHRoYXQgd2Ugd2FudCB0byBjcmVhdGUgcHJlZGljdGlvbnMgYmFzZWQgb2ZmIG9mIGBUZXJtMl9tbHIyYC5cIilcbiAgY2hlY2tfYXJnKC4sIFwibmV3ZGF0YVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIk1ha2Ugc3VyZSB0byBzcGVjaWZ5IHdlIHdhbnQgdG8gbWFrZSBwcmVkaWN0aW9ucyBmb3IgdGhlIGRhdGEgd2UgZW50ZXJlZCBpbiBgbmV3ZGF0YWAuXCIpXG59XG5zdWNjZXNzX21zZyhcIkNvbmdyYXR1bGF0aW9ucyEgWW91IG5vdyBoYXZlIGV4cGVyaWVuY2UgZml0dGluZyBhIHJlZ3Jlc3Npb24gcGxhbmUgYW5kIHVzaW5nIHRoaXMgcGxhbmUgZm9yIHByZWRpY3Rpb25zLiBQcmVkaWN0aW9uIGlzIG9uZSBvZiB0aGUga2V5IHRhc2tzIG9mICdwcmVkaWN0aXZlIG1vZGVsaW5nLicgV2VsbCBkb25lIVwiKSIsImhpbnQiOiJSZW1lbWJlciB0aGF0IHlvdXIgcHJlZGljdGlvbiBpcyBpbiBsb2cgZG9sbGFycyBzbyB5b3UgbmVlZCB0byBleHBvbmVudGlhdGUgaXQgdG8gZ2V0IHRoZSByZXN1bHRzIGluIHRoZSBvcmlnaW5hbCBkb2xsYXIgdW5pdHMifQ==
</div>
</div>
<div id="exercise.-interpreting-coefficients-as-proportional-changes" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Exercise. Interpreting coefficients as proportional changes<a href="multiple-linear-regression.html#exercise.-interpreting-coefficients-as-proportional-changes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>In a previous exercise, you fit a MLR model using <code>logface</code> as the outcome variable and using <code>education</code>, <code>numhh</code>, and <code>logincome</code> as explanatory variables; the resulting fit is in the object <code>Term_mlr</code>. For this fit, the coefficient associated with <code>education</code> is 0.2064. We now wish to interpret this regression coefficient.</p>
<p>The typical interpretation of coefficients in a regression model is as a partial slope. That is, for the coefficient <span class="math inline">\(b_1\)</span> associated with <span class="math inline">\(x_1\)</span>, we interpret <span class="math inline">\(b_1\)</span> to be amount that the expected outcome changes per unit change in <span class="math inline">\(x_1\)</span>, holding the other explanatory variables fixed.</p>
<p>For the term life example, the units of the outcome are in logarithmic dollars. So, for small values of <span class="math inline">\(b_1\)</span>, we can interpret this to be a <em>proportional</em> change in dollars.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Determine least square fitted values for several selected values of <code>education</code>, holding other explantory variables fixed. For this part of the demonstration, we used their mean values.</li>
<li>Determine the proportional changes. Note the relation between these values from a discrete change approximation to the regression coefficient for <code>education</code> equal to 0.2064.</li>
</ul>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNUZXJtIDwtIHJlYWQuY3N2KFwiQ1NWRGF0YVxcXFx0ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvZWZjNjRiYzJkNzhjZjZiNDhhZDJjM2Y1ZTMxODAwY2I3NzNkZTI2MS90ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtMSA8LSBzdWJzZXQoVGVybSwgc3Vic2V0ID0gZmFjZSA+IDApXG5UZXJtMiA8LSBUZXJtMVssIGMoXCJlZHVjYXRpb25cIiwgXCJmYWNlXCIsIFwiaW5jb21lXCIsIFwibG9nZmFjZVwiLCBcImxvZ2luY29tZVwiLCBcIm51bWhoXCIpXVxuVGVybV9tbHIgPC0gbG0obG9nZmFjZSB+IGVkdWNhdGlvbiArIG51bWhoICsgbG9naW5jb21lLCBkYXRhID0gVGVybTIpIiwic2FtcGxlIjoiVGVybV9tbHIgPC0gbG0obG9nZmFjZSB+IGVkdWNhdGlvbiArIG51bWhoICsgbG9naW5jb21lLCBkYXRhID0gVGVybTIpXG5zdW1tYXJ5KFRlcm1fbWxyKSRjb2VmZmljaWVudHNbLDFdXG5cbiMgRGV0ZXJtaW5lIGxlYXN0IHNxdWFyZSBmaXR0ZWQgdmFsdWVzIGZvciBzZXZlcmFsIHNlbGVjdGVkIHZhbHVlcyBvZiBgZWR1Y2F0aW9uYCwgaG9sZGluZyBvdGhlciBleHBsYW50b3J5IHZhcmlhYmxlcyBmaXhlZC5cbmVkdWNfcHJlZGljdCA8LSBjKDE0LDE0LjEsMTQuMiwxNC4zKVxubmV3ZGF0YTEgPC0gZGF0YS5mcmFtZShsb2dpbmNvbWUgPSBtZWFuKFRlcm0yJGxvZ2luY29tZSksIGVkdWNhdGlvbiA9IGVkdWNfcHJlZGljdCwgbnVtaGggPSBtZWFuKFRlcm0yJG51bWhoKSlcbmxzZml0czEgPC0gcHJlZGljdChUZXJtX21sciwgbmV3ZGF0YTEpXG5sc2ZpdHMxXG5cbiMgRGV0ZXJtaW5lIHRoZSBwcm9wb3J0aW9uYWwgY2hhbmdlcy4gTm90ZSB0aGUgcmVsYXRpb24gYmV0d2VlbiB0aGVzZSB2YWx1ZXMgZnJvbSBhIGRpc2NyZXRlIGNoYW5nZSBhcHByb3hpbWF0aW9uIHRvIHRoZSByZWdyZXNzaW9uIGNvZWZmaWNpZW50IGZvciBgZWR1Y2F0aW9uYCBlcXVhbCB0byAwLjIwNjQuXG5sc2ZpdHMxWzI6NF0gLSBsc2ZpdHMxWzE6M11cbnBjaGFuZ2VfZml0czEgPC0gZXhwKGxzZml0czFbMjo0XSAtIGxzZml0czFbMTozXSlcbnBjaGFuZ2VfZml0czEiLCJzb2x1dGlvbiI6ImVkdWNfcHJlZGljdCA8LSBjKDE0LDE0LjEsMTQuMiwxNC4zKVxubmV3ZGF0YTEgPC0gZGF0YS5mcmFtZShsb2dpbmNvbWUgPSBtZWFuKFRlcm0yJGxvZ2luY29tZSksIGVkdWNhdGlvbiA9IGVkdWNfcHJlZGljdCwgbnVtaGggPSBtZWFuKFRlcm0yJG51bWhoKSlcbmxzZml0czEgPC0gcHJlZGljdChUZXJtX21sciwgbmV3ZGF0YTEpXG5sc2ZpdHMxXG5sc2ZpdHMxWzI6NF0gLSBsc2ZpdHMxWzE6M11cbnBjaGFuZ2VfZml0czEgPC0gZXhwKGxzZml0czFbMjo0XSAtIGxzZml0czFbMTozXSlcbnBjaGFuZ2VfZml0czEiLCJzY3QiOiJleCgpICU+JSBjaGVja19vYmplY3QoXCJlZHVjX3ByZWRpY3RcIiwgdW5kZWZpbmVkX21zZz1cIk1ha2Ugc3VyZSB0byBhc3NpZ24gdGhlIHZhbHVlcyBvZiBgZWR1Y2F0aW9uYCB0byBgZWR1Y19wcmVkaWN0YC5cIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJUaGVzZSBudW1iZXJzIHNob3VsZCBiZSB0aGUgdmFsdWVzIGZyb20gMTQgdG8gMTQuMyBieSAuMSBpbmNyZW1lbnRzLiBcIilcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIm5ld2RhdGExXCIsdW5kZWZpbmVkX21zZz1cIk1ha2Ugc3VyZSB0byBjcmVhdGUgYSBkYXRhZnJhbWUgbmFtZWQgYG5ld2RhdGExYCBmb3IgcHJlZGljdGluZy4gXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiU2V0IGxvZyBpbmNvbWUgdG8gYmUgdGhlIG1lYW4gb2YgdGhlIGxvZ2luY29tZSBvZiBvdXIgZGF0YSwgZWR1Y2F0aW9uIGVxdWFsIHRvIGBlZHVjX3ByZWRpY3RgLCBhbmQgbnVtaGggZXF1YWwgdG8gdGhlIG1lYW4gb2YgbnVtaGguIFwiKVxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJwcmVkaWN0XCIsIG5vdF9jYWxsZWRfbXNnPVwiVXNlIGBwcmVkaWN0YCB0byBtYWtlIHByZWRpY3Rpb25zIGdpdmVuIG91ciBtb2RlbCBhbmQgZGF0YS5cIikgJT4lIHtcbiAgY2hlY2tfYXJnKC4sIFwib2JqZWN0XCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiTWFrZSBzdXJlIHRvIHNwZWNpZnkgdGhhdCB3ZSB3YW50IHRvIG1ha2UgcHJlZGljdGlvbnMgYmFzZWQgb24gYFRlcm1fbWxyYC5cIilcbiAgY2hlY2tfYXJnKC4sIFwibmV3ZGF0YVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIk1ha2Ugc3VyZSB0byBzcGVjaWZ5IHRoYXQgd2Ugd291bGQgbGlrZSB0byB1c2UgdGhlIHZhbHVlcyBpbiBgbmV3ZGF0YTFgIGFzIHRoZSBkYXRhIGZvciBvdXIgcHJlZGljdGlvbnMuIFwiKVxufVxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwibHNmaXRzMVwiLCB1bmRlZmluZWRfbXNnPVwiTWFrZSBzdXJlIHRvIGFzc2lnbiB0aGUgcHJlZGljdGVkIHZhbHVlcyB0byBgbHNmaXRzMWAuXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiVXNlIGBwcmVkaWN0YCB0byBtYWtlIHByZWRpY3Rpb25zIGdpdmVuIG91ciBtb2RlbCBhbmQgZGF0YS5cIilcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcInBjaGFuZ2VfZml0czFcIiwgdW5kZWZpbmVkX21zZz1cIk1ha2Ugc3VyZSB0byBhc3NpZ24gZXhwb25lbnRpYWwgb2YgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIGZpdCB2YWx1ZXMgdG8gYHBjaGFuZ2VfZml0czFgLlwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIlRoaXMgc2hvdWxkIGJlIGVxdWFsIHRvIHRoZSBleHBvbmVudGlhbCBvZiBlYWNoIGBsc2ZpdHMxYCBtaW51cyB0aGUgYGxzZml0czFgIHRoYXQgY2FtZSBkaXJlY3RseSBiZWZvcmUgaXQuXCIpXG5cbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwiZXhwXCIpICU+JSBjaGVja19hcmcoLiwgXCJ4XCIpICU+JSBjaGVja19lcXVhbCgpXG5cblxuc3VjY2Vzc19tc2coXCJDb25ncmF0dWxhdGlvbnMhIEZyb20gY2FsY3VsdXMsIHNtYWxsIGNoYW5nZXMgaW4gbG9nYXJpdGhtaWMgdmFsdWVzIGNhbiBiZSBpbnRlcnByZXRlZCBhcyBwcm9wb3J0aW9uYWwgY2hhbmdlcy4gVGhpcyBpcyB0aGUgcmVhc29uIGZvciB1c2luZyBuYXR1cmFsIGxvZ2FyaXRobXMuXCIpIiwiaGludCI6IlRvIGZpbmQgdGhlIHByb3BvcnRpb25hbCBjaGFuZ2VzLCB0YWtlIHRoZSAybmQtNHRoIG9ic2VydmF0aW9ucyBvZiA8Y29kZT5sc2ZpdHM8L2NvZGU+IGFuZCBzdWJ0cmFjdCB0aGUgMXN0LTNyZCBvYnNlcnZhdGlvbnMsIHRoZW4gZXhwb25lbnRpYXRlIHRoZSByZXN1bHRzLiJ9
</div>
</div>
<div id="exercise.-interpreting-coefficients-as-elasticities" class="section level3 hasAnchor" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Exercise. Interpreting coefficients as elasticities<a href="multiple-linear-regression.html#exercise.-interpreting-coefficients-as-elasticities" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>In a previous exercise, you fit a MLR model using <code>logface</code> as the outcome variable and using <code>education</code>, <code>numhh</code>, and <code>logincome</code> as explanatory variables; the resulting fit is in the object <code>Term_mlr</code>. From this fit, the coefficient associated with <code>logincome</code> is 0.4935. We now wish to interpret this regression coefficient.</p>
<p>The typical interpretation of coefficients in a regression model is as a partial slope. When both <span class="math inline">\(x_1\)</span> and <span class="math inline">\(y\)</span> are in logarithmic units, then we can interpret <span class="math inline">\(b_1\)</span> to be ratio of two percentage changes, known as an <em>elasticity</em> in economics. Mathematically, we summarize this as
<span class="math display">\[
\frac{\partial \ln y}{\partial \ln x} = \left(\frac{\partial y}{y}\right) ~/ ~\left(\frac{\partial x}{x}\right) .
\]</span></p>
<p><strong>Instructions</strong></p>
<ul>
<li>For several selected values of <code>logincome</code>, determine the corresponding proportional changes.</li>
<li>Determine least square fitted values for several selected values of <code>logincome</code>, holding other explantory variables fixed.</li>
<li>Determine the corresponding proportional changes for the fitted values.</li>
<li>Calculate the ratio of proportional changes of fitted values to those for income. Note the relation between these values (from a discrete change approximation) to the regression coefficient for <code>logincome</code> equal to 0.4935.</li>
</ul>
<p><strong>Hint.</strong> When you calculate the ratio of proportional changes of fitted values to those for income, note the relation between these values (from a discrete change approximation) to the regression coefficient for <code>logincome</code> equal to 0.4935.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNUZXJtIDwtIHJlYWQuY3N2KFwiQ1NWRGF0YVxcXFx0ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvZWZjNjRiYzJkNzhjZjZiNDhhZDJjM2Y1ZTMxODAwY2I3NzNkZTI2MS90ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtMSA8LSBzdWJzZXQoVGVybSwgc3Vic2V0ID0gZmFjZSA+IDApXG5UZXJtMiA8LSBUZXJtMVssIGMoXCJlZHVjYXRpb25cIiwgXCJmYWNlXCIsIFwiaW5jb21lXCIsIFwibG9nZmFjZVwiLCBcImxvZ2luY29tZVwiLCBcIm51bWhoXCIpXVxuVGVybV9tbHIgPC0gbG0obG9nZmFjZSB+IGVkdWNhdGlvbiArIG51bWhoICsgbG9naW5jb21lLCBkYXRhID0gVGVybTIpIiwic2FtcGxlIjoiVGVybV9tbHIgPC0gbG0obG9nZmFjZSB+IGVkdWNhdGlvbiArIG51bWhoICsgbG9naW5jb21lLCBkYXRhID0gVGVybTIpXG5zdW1tYXJ5KFRlcm1fbWxyKSRjb2VmZmljaWVudHNbLDFdXG4jIEZvciBzZXZlcmFsIHNlbGVjdGVkIHZhbHVlcyBvZiBgbG9naW5jb21lYCwgZGV0ZXJtaW5lIHRoZSBjb3JyZXNwb25kaW5nIHByb3BvcnRpb25hbCBjaGFuZ2VzLlxubG9naW5jb21lX3ByZWQgPC0gYygxMSwxMS4xLDExLjIsMTEuMylcbnBjaGFuZ2VfaW5jb21lIDwtIDEwMCooZXhwKGxvZ2luY29tZV9wcmVkWzI6NF0pL2V4cChsb2dpbmNvbWVfcHJlZFsxOjNdKS0xKVxucGNoYW5nZV9pbmNvbWVcblxuIyBEZXRlcm1pbmUgbGVhc3Qgc3F1YXJlIGZpdHRlZCB2YWx1ZXMgZm9yIHNldmVyYWwgc2VsZWN0ZWQgdmFsdWVzIG9mIGBsb2dpbmNvbWVgLCBob2xkaW5nIG90aGVyIGV4cGxhbnRvcnkgdmFyaWFibGVzIGZpeGVkLlxubmV3ZGF0YTIgPC0gZGF0YS5mcmFtZShsb2dpbmNvbWUgPSBsb2dpbmNvbWVfcHJlZCwgZWR1Y2F0aW9uID0gbWVhbihUZXJtMiRlZHVjYXRpb24pLCBudW1oaCA9IG1lYW4oVGVybTIkbnVtaGgpKVxubHNmaXRzMiA8LSBwcmVkaWN0KFRlcm1fbWxyLCBuZXdkYXRhMilcblxuIyBEZXRlcm1pbmUgdGhlIGNvcnJlc3BvbmRpbmcgcHJvcG9ydGlvbmFsIGNoYW5nZXMgZm9yIHRoZSBmaXR0ZWQgdmFsdWVzLiBcbnBjaGFuZ2VfZml0czIgPC0gMTAwKihleHAobHNmaXRzMlsyOjRdKS9leHAobHNmaXRzMlsxOjNdKS0xKVxucGNoYW5nZV9maXRzMlxuXG4jIENhbGN1bGF0ZSB0aGUgcmF0aW8gb2YgcHJvcG9ydGlvbmFsIGNoYW5nZXMgb2YgZml0dGVkIHZhbHVlcyB0byB0aG9zZSBmb3IgaW5jb21lLlxucGNoYW5nZV9maXRzMi9wY2hhbmdlX2luY29tZSIsInNvbHV0aW9uIjoibG9naW5jb21lX3ByZWQgPC0gYygxMSwxMS4xLDExLjIsMTEuMylcbnBjaGFuZ2VfaW5jb21lIDwtIDEwMCooZXhwKGxvZ2luY29tZV9wcmVkWzI6NF0pL2V4cChsb2dpbmNvbWVfcHJlZFsxOjNdKS0xKVxucGNoYW5nZV9pbmNvbWVcbm5ld2RhdGEyIDwtIGRhdGEuZnJhbWUobG9naW5jb21lID0gbG9naW5jb21lX3ByZWQsIGVkdWNhdGlvbiA9IG1lYW4oVGVybTIkZWR1Y2F0aW9uKSwgbnVtaGggPSBtZWFuKFRlcm0yJG51bWhoKSlcbmxzZml0czIgPC0gcHJlZGljdChUZXJtX21sciwgbmV3ZGF0YTIpXG5wY2hhbmdlX2ZpdHMyIDwtIDEwMCooZXhwKGxzZml0czJbMjo0XSkvZXhwKGxzZml0czJbMTozXSktMSlcbnBjaGFuZ2VfZml0czJcbnBjaGFuZ2VfZml0czIvcGNoYW5nZV9pbmNvbWUiLCJzY3QiOiJleCgpICU+JSBjaGVja19vYmplY3QoXCJsb2dpbmNvbWVfcHJlZFwiLCB1bmRlZmluZWRfbXNnPVwiQXNzaWduIHRoZSBzdHJpbmcgb2YgdmFsdWVzIHRvIGBsb2dpbmNvbWVfcHJlZGAuXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiVGhlIHZhbHVlcyBzaG91bGQgYmUgYDExYCwgYDExLjFgLCBgMTEuMmAsIGFuZCBgMTEuM2AuXCIpXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJwY2hhbmdlX2luY29tZVwiLCB1bmRlZmluZWRfbXNnPVwiYXNzaWduIHRoZSB2YWx1ZXMgb2YgdGhlIHBlcmNlbnRhZ2UgY2hhbmdlIGluIGluY29tZS4gXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiaXQgc2hvdWxkIGJlIGVxdWFsIHRvIHRoZSBmb2xsb3dpbmc6IGAxMDAqKGV4cChsb2dpbmNvbWVfcHJlZFsyOjRdKS9leHAobG9naW5jb21lX3ByZWRbMTozXSktMWAuXCIpXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJuZXdkYXRhMlwiLCB1bmRlZmluZWRfbXNnPVwiY3JlYXRlIHNvbWUgbmV3IGRhdGEsIGFuZCBuYW1lIGl0IHRvIGBuZXdkYXRhMmAuXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiVGhpcyBuZXcgZGF0YSBzaG91bGQgaGF2ZSBgbG9naW5jb21lYCBlcXVhbCB0byBgbG9naW5jb21lX3ByZWRgLCBgZWR1Y2F0aW9uYCBlcXVhbCB0byB0aGUgbWVhbiBvZiBgZWR1Y2F0aW9uYCwgYW5kIGBudW1oaGAgZXF1YWwgdG8gdGhlIG1lYW4gb2YgYG51bWhoYC5cIilcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcImxzZml0czJcIiwgdW5kZWZpbmVkX21zZz1cIlNldCB0aGUgcHJlZGljdGVkIHZhbHVlcyB0byBiZSBzdG9yZWQgaW4gYGxzZml0czJgLlwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cInlvdSBzaG91bGQgcnVuIHByZWRpY3Qgb24gYFRlcm1fbWxyYCBhbmQgYG5ld2RhdGEyYC5cIilcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwicHJlZGljdFwiLCBub3RfY2FsbGVkX21zZz1cIlVzZSBgcHJlZGljdGAgdG8gY3JlYXRlIHRoZSBwcmVkaWN0ZWQgdmFsdWVzLiBcIikgJT4lIHtcbiAgY2hlY2tfYXJnKC4sIFwib2JqZWN0XCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiVGhlIG1vZGVsIHRoYXQgd2Ugd2FudCB0byB1c2UgaXMgYFRlcm1fbWxyYC5cIilcbiAgY2hlY2tfYXJnKC4sIFwibmV3ZGF0YVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIlRoZSBkYXRhIHdlIHdhbnQgdG8gdXNlIHRvIGNyZWF0ZSBwcmVkaWN0aW9ucyBpcyBmb3VuZCBpbiBgbmV3ZGF0YTJgLlwiKVxufVxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwicGNoYW5nZV9maXRzMlwiLCB1bmRlZmluZWRfbXNnPVwibm93IGZpbmQgdGhlIHBlcmNlbnRhZ2UgY2hhbmdlIGluIGVhY2ggb2YgdGhlIGZpdHMsIGFuZCBzdG9yZSB0aGVtIGluIGBwY2hhbmdlX2ZpdHMyYC5cIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJEbyB0aGUgZXhhY3Qgc2FtZSB0aGluZyB5b3UgZGlkIGZvciBgcGNoYW5nZV9pbmNvbWVgLCBleGNlcHQgdXNlIHRoZSBmaXRzIGluc3RlYWQgb2YgdGhlIHByZWRpY3Rpb25zLiBcIilcbnN1Y2Nlc3NfbXNnKFwiQ29uZ3JhdHVsYXRpb25zISBXaGVuIGJvdGggJHhfMSQgYW5kICR5JCBhcmUgaW4gbG9nYXJpdGhtaWMgdW5pdHMsIHRoZW4gd2UgY2FuIGludGVycHJldCAkYl8xJCB0byBiZSByYXRpbyBvZiB0d28gcGVyY2VudGFnZSBjaGFuZ2VzLCBrbm93biBhcyBhbiAqZWxhc3RpY2l0eSogaW4gZWNvbm9taWNzLlwiKSIsImhpbnQiOiJXaGVuIHlvdSBjYWxjdWxhdGUgdGhlIHJhdGlvIG9mIHByb3BvcnRpb25hbCBjaGFuZ2VzIG9mIGZpdHRlZCB2YWx1ZXMgdG8gdGhvc2UgZm9yIGluY29tZSwgbm90ZSB0aGUgcmVsYXRpb24gYmV0d2VlbiB0aGVzZSB2YWx1ZXMgKGZyb20gYSBkaXNjcmV0ZSBjaGFuZ2UgYXBwcm94aW1hdGlvbikgdG8gdGhlIHJlZ3Jlc3Npb24gY29lZmZpY2llbnQgZm9yIDxjb2RlPmxvZ2luY29tZTwvY29kZT4gZXF1YWwgdG8gMC40OTM1LiJ9
</div>
<!-- ## Foundations of multiple linear regresson -->
<!-- *** -->
<!-- In this section, you learn how to: -->
<!-- -  Contrast the observable to the error representation of the model -->
<!-- -  Describe the unbiasedness and determine the variance of least squares regression coefficients -->
<!-- -  Motivate the least squares method using the Gauss-Markov and normality of estimators -->
<!-- *** -->
<!-- BLANK FOR NOW.... -->
</div>
</div>
<div id="statistical-inference-and-multiple-linear-regresson" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Statistical inference and multiple linear regresson<a href="multiple-linear-regression.html#statistical-inference-and-multiple-linear-regresson" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Explain mean square error and residual standard error in terms of degrees of freedom</li>
<li>Develop an ANOVA table and use it to derive the coefficient of determination</li>
<li>Calculate and interpret the coefficient of determination adjusted for degrees of freedom</li>
<li>Conduct a test of a regression coefficient</li>
<li>Summarize regression coefficients using point and interval estimators</li>
</ul>
<hr />
<div id="video-10" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Video<a href="multiple-linear-regression.html#video-10" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25916071/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=0_n9542z90&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;&amp;wid=0_1rrbi7qd" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
<div id="video-overhead-details-10" class="section level4 unnumbered hasAnchor">
<h4>Video Overhead Details<a href="multiple-linear-regression.html#video-overhead-details-10" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="tab">
<p><button class="tablinks" onclick="openTab(event, 'Over3.2A')">A Details. Goodness of fit</button>
<button class="tablinks" onclick="openTab(event, 'Over3.2B')">B Details. Goodness of fit and term life</button>
<button class="tablinks" onclick="openTab(event, 'Over3.2C')">C Details. Statistical inference</button>
<button class="tablinks" onclick="openTab(event, 'Over3.2D')">D Details. Statistical inference and term life</button></p>
</div>
<div id="Over3.2A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
A Details. Goodness of fit
</h3>
<p>
<p>Summarize</p>
<ul>
<li>deviations</li>
<li><span class="math inline">\(s^2\)</span></li>
<li><span class="math inline">\(R^2\)</span></li>
<li><span class="math inline">\(R_a^2\)</span></li>
<li>ANOVA table</li>
</ul>
</p>
</div>
<div id="Over3.2B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
B Details. Goodness of fit and term life
</h3>
<p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="multiple-linear-regression.html#cb74-1" tabindex="-1"></a>Term_mlr <span class="ot">&lt;-</span> <span class="fu">lm</span>(logface <span class="sc">~</span> education <span class="sc">+</span> numhh <span class="sc">+</span> logincome, <span class="at">data =</span> Term2)</span>
<span id="cb74-2"><a href="multiple-linear-regression.html#cb74-2" tabindex="-1"></a><span class="fu">summary</span>(Term_mlr)</span>
<span id="cb74-3"><a href="multiple-linear-regression.html#cb74-3" tabindex="-1"></a><span class="fu">anova</span>(Term_mlr)</span></code></pre></div>
<pre><code>
Call:
lm(formula = logface ~ education + numhh + logincome, data = Term2)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.7420 -0.8681  0.0549  0.9093  4.7187 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  2.58408    0.84643   3.053  0.00249 ** 
education    0.20641    0.03883   5.316 2.22e-07 ***
numhh        0.30605    0.06333   4.833 2.26e-06 ***
logincome    0.49353    0.07754   6.365 8.32e-10 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.525 on 271 degrees of freedom
Multiple R-squared:  0.3425,    Adjusted R-squared:  0.3353 
F-statistic: 47.07 on 3 and 271 DF,  p-value: &lt; 2.2e-16

Analysis of Variance Table

Response: logface
           Df Sum Sq Mean Sq F value    Pr(&gt;F)    
education   1 140.55 140.549  60.417 1.601e-13 ***
numhh       1  93.68  93.681  40.270 9.251e-10 ***
logincome   1  94.24  94.238  40.510 8.316e-10 ***
Residuals 271 630.43   2.326                      
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</p>
</div>
<div id="Over3.2C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
C Details. Statistical inference
</h3>
<p>
<ul>
<li>hypothesis testing of a regression coefficient</li>
<li>confidence intervals</li>
</ul>
</p>
</div>
<div id="Over3.2D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
D Details. Statistical inference and term life
</h3>
<p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="multiple-linear-regression.html#cb76-1" tabindex="-1"></a>Term_mlr <span class="ot">&lt;-</span> <span class="fu">lm</span>(logface <span class="sc">~</span> education <span class="sc">+</span> numhh <span class="sc">+</span> logincome, <span class="at">data =</span> Term2)</span>
<span id="cb76-2"><a href="multiple-linear-regression.html#cb76-2" tabindex="-1"></a>model_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(Term_mlr)</span>
<span id="cb76-3"><a href="multiple-linear-regression.html#cb76-3" tabindex="-1"></a>model_sum<span class="sc">$</span>coefficients</span>
<span id="cb76-4"><a href="multiple-linear-regression.html#cb76-4" tabindex="-1"></a></span>
<span id="cb76-5"><a href="multiple-linear-regression.html#cb76-5" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">confint</span>(Term_mlr, <span class="at">level =</span> .<span class="dv">95</span>), <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb76-6"><a href="multiple-linear-regression.html#cb76-6" tabindex="-1"></a></span>
<span id="cb76-7"><a href="multiple-linear-regression.html#cb76-7" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">confint</span>(Term_mlr, <span class="at">level =</span> .<span class="dv">95</span>), <span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>             Estimate Std. Error  t value     Pr(&gt;|t|)
(Intercept) 2.5840786 0.84642972 3.052916 2.491588e-03
education   0.2064139 0.03883186 5.315581 2.223619e-07
numhh       0.3060455 0.06332511 4.832926 2.255708e-06
logincome   0.4935323 0.07754198 6.364711 8.316097e-10
            2.5 % 97.5 %
(Intercept) 0.918  4.250
education   0.130  0.283
numhh       0.181  0.431
logincome   0.341  0.646
            2.5 % 97.5 %
(Intercept) 0.918  4.250
education   0.130  0.283
numhh       0.181  0.431
logincome   0.341  0.646</code></pre>
</p>
</div>
</div>
</div>
<div id="exercise.-statistical-inference-and-term-life" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Exercise. Statistical inference and term life<a href="multiple-linear-regression.html#exercise.-statistical-inference-and-term-life" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>In later chapters, we will learn how to specify a model using diagnostics techniques; these techniques were used to specify face in log dollars for the outcome and similarly income in log dollars as an explanatory variable. Just to see how things work, in this exercise we will create new variables <code>face</code> and <code>income</code> that are in the original units and run a regression with these. We have already seen that rescaling by constants do not affect relationships but can be helpful with interpretations, so we define both <code>face</code> and <code>income</code> to be in thousands of dollars. A prior video introduced the term life dataframe <code>Term2</code>.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Create <code>Term2$face</code> by exponentiating <code>logface</code> and dividing by 1000. For convenience, we are storing this variable in the data set <code>Term2</code>. Use the same process to create <code>Term2$income</code>.</li>
<li>Run a regression using <code>face</code> as the outcome variable and <code>education</code>, <code>numhh</code>, and <code>income</code> as explanatory variables.</li>
<li>Summarize this model and identify the residual standard error (<span class="math inline">\(s\)</span>) as well as the coefficient of determination (<span class="math inline">\(R^2\)</span>) and the version adjusted for degrees of freedom (<span class="math inline">\(R_a^2\)</span>).</li>
</ul>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNUZXJtIDwtIHJlYWQuY3N2KFwiQ1NWRGF0YVxcXFx0ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvZWZjNjRiYzJkNzhjZjZiNDhhZDJjM2Y1ZTMxODAwY2I3NzNkZTI2MS90ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtMSA8LSBzdWJzZXQoVGVybSwgc3Vic2V0ID0gZmFjZSA+IDApXG5UZXJtMiA8LSBUZXJtMVssIGMoXCJlZHVjYXRpb25cIiwgXCJmYWNlXCIsIFwiaW5jb21lXCIsIFwibG9nZmFjZVwiLCBcImxvZ2luY29tZVwiLCBcIm51bWhoXCIpXSIsInNhbXBsZSI6IiMgQ3JlYXRlIGBUZXJtMiRmYWNlYCBhbmQgIGBUZXJtMiRpbmNvbWVgXG5UZXJtMiRmYWNlIDwtIGV4cChfX18pL19fX1xuVGVybTIkaW5jb21lIDwtIGV4cChfX18pL19fX1xuXG4jIFJ1biBhIHJlZ3Jlc3Npb24gdXNpbmcgYGZhY2VgIGFzIHRoZSBvdXRjb21lIHZhcmlhYmxlIGFuZCBgZWR1Y2F0aW9uYCwgYG51bWhoYCwgYW5kIGBpbmNvbWVgIGFzIGV4cGxhbmF0b3J5IHZhcmlhYmxlcy5cblRlcm1fbWxyMSA8LSBsbShmYWNlIH4gX19fLCBkYXRhID0gVGVybTIpXG5cbiMgU3VtbWFyaXplIHRoaXMgbW9kZWxcbnN1bW1hcnkoVGVybV9tbHIxKSIsInNvbHV0aW9uIjoiVGVybTIkZmFjZSA8LSBleHAoVGVybTIkbG9nZmFjZSkvMTAwMFxuVGVybTIkaW5jb21lIDwtIGV4cChUZXJtMiRsb2dpbmNvbWUpLzEwMDBcblRlcm1fbWxyMSA8LSBsbShmYWNlIH4gZWR1Y2F0aW9uICsgbnVtaGggKyBpbmNvbWUsIGRhdGEgPSBUZXJtMilcbnN1bW1hcnkoVGVybV9tbHIxKSIsInNjdCI6ImV4KCkgJT4lIGNoZWNrX29iamVjdChcIlRlcm0yXCIsIHVuZGVmaW5lZF9tc2c9XCJZb3Ugc2hvdWxkIGhhdmUgYSBkYXRhZnJhbWUgbmFtZWQgYFRlcm0yYC5cIikgJT4lIHtcbiAgY2hlY2tfY29sdW1uKC4sIFwiZmFjZVwiLCBjb2xfbWlzc2luZ19tc2c9XCJZb3Ugc2hvdWxkIG1ha2UgYSBuZXcgY29sdW1uIG5hbWVkIGBmYWNlYC5cIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJ0byBjcmVhdGUgdGhlIGRhdGEsIHRha2UgdGhlIGV4cG9uZW50aWFsIG9mIHRoZSBkYXRhIGluIGBsb2dmYWNlYCBhbmQgZGl2aWRlIGJ5IDEwMDAuIFwiKVxuICBjaGVja19jb2x1bW4oLiwgXCJpbmNvbWVcIiwgY29sX21pc3NpbmdfbXNnPVwiWW91IHNob3VsZCBtYWtlIGEgbmV3IGNvbHVtbiBuYW1lZCBgaW5jb21lYC5cIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJUbyBjcmVhdGUgdGhlIGRhdGEsIHRha2UgdGhlIGV4cG9uZW50aWFsIG9mIHRoZSBkYXRhIGluIGBsb2dpbmNvbWVgIGFuZCBkaXZpZGUgYnkgMTAwMC4gXCIpXG4gfVxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwiVGVybV9tbHIxXCIsIHVuZGVmaW5lZF9tc2c9XCJVc2UgYGxtYCB0byBjcmVhdGUgYSBsaW5lYXIgbW9kZWwsIGFuZCBzdG9yZSBpdCBpbiBgVGVybV9tbHIxYC5cIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJXaGVuIHlvdSBjcmVhdGUgeW91ciBtb2RlbCwgbWFrZSBzdXJlIHRvIG1vZGVsIGBmYWNlYCBiYXNlZCBvbiBgZWR1Y2F0aW9uYCwgYG51bWhoYCwgYW5kIGBpbmNvbWVgIGZyb20gdGhlIGRhdGEgc2V0IGBUZXJtMmAuXCIpXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcInN1bW1hcnlcIiwgbm90X2NhbGxlZF9tc2c9XCJVc2UgYHN1bW1hcnlgIHRvIHZpZXcgYSBzdW1tYXJ5IG9mIG91ciBsaW5lYXIgbW9kZWwuIFwiKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJNYWtlIHN1cmUgdG8gc3BlY2lmeSB0aGF0IHdlIHdvdWxkIGxpa2UgYSBzdW1tYXJ5IG9mIGBUZXJtX21scjFgLlwiKVxuc3VjY2Vzc19tc2coXCJDb25ncmF0dWxhdGlvbnMhIENvbXBhcmUgdGhlc2UgZ29vZG5lc3Mgb2YgZml0IG1lYXN1cmVzIHRvIHRob3NlIHdoZXJlIGluY29tZSBhbmQgZmFjZSBhcmUgaW4gbG9nYXJpdGhtaWMgdW5pdHMuIEFsdGhvdWdoIG5vdCB0aGUgb25seSBpbmRpY2F0b3JzLCB5b3Ugd2lsbCBzZWUgdGhhdCB0aGUgcHJvcG9ydGlvbiBvZiB2YXJpYWJpbGl0eSBleHBsYWluZWQgKFIgc3F1YXJlKSBhbmQgdGhlIHN0YXRpc3RpY2FsIHNpZ25pZmljYW5jZSBvZiBjb2VmZmljaWVudHMgYXJlIHN0cmlraW5nbHkgaGlnaGVyIGluIHRoZSBtb2RlbCB3aXRoIHZhcmlhYmxlcyBpbiBsb2dnZWQgdW5pdHMuXCIpIiwiaGludCI6IlJlbWVtYmVyIHRoYXQgd2UgY2FuIGNhbGwgYSA8Y29kZT5jb2x1bW48L2NvZGU+IGZyb20gYSA8Y29kZT5kYXRhZnJhbWU8L2NvZGU+IHVzaW5nIDxjb2RlPmRhdGFmcmFtZSRjb2x1bW48L2NvZGU+LiJ9
</div>
</div>
</div>
<div id="binary-variables" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Binary variables<a href="multiple-linear-regression.html#binary-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Interpret regression coefficients associated with binary variables</li>
<li>Use binary variables and interaction terms to create regression models that are nonlinear in the covariates</li>
</ul>
<hr />
<div id="video-11" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Video<a href="multiple-linear-regression.html#video-11" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25916071/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=0_jfmz8kg0&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;&amp;wid=1_qxygjiq2" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
<div id="video-overhead-details-11" class="section level4 unnumbered hasAnchor">
<h4>Video Overhead Details<a href="multiple-linear-regression.html#video-overhead-details-11" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="tab">
<p><button class="tablinks" onclick="openTab(event, 'Over3.3A')">A Details. Binary variables</button>
<button class="tablinks" onclick="openTab(event, 'Over3.3B')">B Details. Visualize effect of binary variables</button>
<button class="tablinks" onclick="openTab(event, 'Over3.3C')">C Details. R script for visualization</button>
<button class="tablinks" onclick="openTab(event, 'Over3.3D')">D Details. Interaction Terms</button>
<button class="tablinks" onclick="openTab(event, 'Over3.3E')">E Details. Visualizing binary variables with interactions terms</button></p>
</div>
<div id="Over3.3A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
A Details. Binary variables
</h3>
<p>
<ul>
<li><p>We can define a new variable
<span class="math display">\[
single= \left\{ \begin{array}{ll}
      0 &amp; \text{for other respondents} \\
      1 &amp; \text{for single respondents}
\end{array} \right.
\]</span></p></li>
<li><p>The variable <em>single</em> is said to be an <em>indicator</em>, or <em>dummy</em>, variable.</p></li>
<li><p>To interpret coefficients, we now consider the regression function</p></li>
</ul>
<p><span class="math display">\[
\text{E }logface = \beta_0 + \beta_1 logincome + \beta_2 single
\]</span>
- This can be expressed as two lines
<span class="math display">\[
\text{E }logface = \left\{ \begin{array}{ll}
        \beta_0 + \beta_1  logincome           &amp; \textrm{for other respondents} \\
        \beta_0 + \beta_2 + \beta_1  logincome &amp; \textrm{for single respondents}
\end{array} \right. .
\]</span>
- The least squares method of calculating the estimators, and the resulting theoretical properties, are the still valid when using
binary variables.</p>
</p>
</div>
<div id="Over3.3B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
B Details. Visualize effect of binary variables
</h3>
<p>
</p>
</div>
<div id="Over3.3C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
C Details. R script for visualization
</h3>
<p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="multiple-linear-regression.html#cb78-1" tabindex="-1"></a>Term4 <span class="ot">&lt;-</span> Term1[,<span class="fu">c</span>(<span class="st">&quot;numhh&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;logincome&quot;</span>, <span class="st">&quot;logface&quot;</span>, <span class="st">&quot;marstat&quot;</span>)]</span>
<span id="cb78-2"><a href="multiple-linear-regression.html#cb78-2" tabindex="-1"></a>Term4<span class="sc">$</span>marstat <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(Term4<span class="sc">$</span>marstat)</span>
<span id="cb78-3"><a href="multiple-linear-regression.html#cb78-3" tabindex="-1"></a><span class="fu">table</span>(Term4<span class="sc">$</span>marstat)</span>
<span id="cb78-4"><a href="multiple-linear-regression.html#cb78-4" tabindex="-1"></a>Term4<span class="sc">$</span>single <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">*</span>(Term4<span class="sc">$</span>marstat <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb78-5"><a href="multiple-linear-regression.html#cb78-5" tabindex="-1"></a>model_single <span class="ot">&lt;-</span> <span class="fu">lm</span>(logface <span class="sc">~</span> logincome <span class="sc">+</span> single, <span class="at">data =</span> Term4)</span>
<span id="cb78-6"><a href="multiple-linear-regression.html#cb78-6" tabindex="-1"></a><span class="fu">summary</span>(model_single)</span>
<span id="cb78-7"><a href="multiple-linear-regression.html#cb78-7" tabindex="-1"></a></span>
<span id="cb78-8"><a href="multiple-linear-regression.html#cb78-8" tabindex="-1"></a><span class="fu">plot</span>(Term4<span class="sc">$</span>logincome,Term4<span class="sc">$</span>logface,<span class="at">xlab=</span><span class="st">&quot;logarithmic income&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;log face&quot;</span>,</span>
<span id="cb78-9"><a href="multiple-linear-regression.html#cb78-9" tabindex="-1"></a>    <span class="at">pch=</span> <span class="dv">1</span><span class="sc">+</span><span class="dv">16</span><span class="sc">*</span>Term4<span class="sc">$</span>single, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>)[Term4<span class="sc">$</span>marstat])</span>
<span id="cb78-10"><a href="multiple-linear-regression.html#cb78-10" tabindex="-1"></a>Ey1 <span class="ot">&lt;-</span> model_single<span class="sc">$</span>coefficients[<span class="dv">1</span>]<span class="sc">+</span>model_single<span class="sc">$</span>coefficients[<span class="dv">2</span>]<span class="sc">*</span>Term4<span class="sc">$</span>logincome</span>
<span id="cb78-11"><a href="multiple-linear-regression.html#cb78-11" tabindex="-1"></a>Ey2 <span class="ot">&lt;-</span> Ey1 <span class="sc">+</span> model_single<span class="sc">$</span>coefficients[<span class="dv">3</span>]</span>
<span id="cb78-12"><a href="multiple-linear-regression.html#cb78-12" tabindex="-1"></a><span class="fu">lines</span>(Term4<span class="sc">$</span>logincome, Ey1)</span>
<span id="cb78-13"><a href="multiple-linear-regression.html#cb78-13" tabindex="-1"></a><span class="fu">lines</span>(Term4<span class="sc">$</span>logincome, Ey2, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-132-1.png" width="672" /></p>
<pre><code>
  0   1   2 
 57 208  10 

Call:
lm(formula = logface ~ logincome + single, data = Term4)

Residuals:
    Min      1Q  Median      3Q     Max 
-6.2828 -0.8785  0.0364  0.9227  5.9573 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  5.09007    0.88643   5.742 2.49e-08 ***
logincome    0.63378    0.07776   8.151 1.33e-14 ***
single      -0.80006    0.24796  -3.227  0.00141 ** 
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.615 on 272 degrees of freedom
Multiple R-squared:  0.2605,    Adjusted R-squared:  0.255 
F-statistic:  47.9 on 2 and 272 DF,  p-value: &lt; 2.2e-16</code></pre>
</p>
</div>
<div id="Over3.3D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
D Details. Interaction Terms
</h3>
<p>
<ul>
<li>Linear regression models are defined in terms of linear combinations of explanatory varibles but we can expand their scope through nonlinear transformations
<ul>
<li>One type of nonlinear transform is the product of two varibles that is used to create what is known as an <em>interaction</em> variable</li>
</ul></li>
<li>To interpret coefficients, we now consider the regression function</li>
</ul>
<span class="math display">\[
\text{E }logface = \beta_0 + \beta_1 logincome + \beta_2 single + \beta_3 single*logincome
\]</span>
- This can be expressed as two lines with different slopes
<span class="math display">\[
\text{E }logface = \left\{ \begin{array}{ll}
        \beta_0 + \beta_1   logincome           &amp; \textrm{for other respondents} \\
        \beta_0 + \beta_2 + (\beta_1  + \beta_3) logincome &amp; \textrm{for single respondents}
\end{array} \right. .
\]</span>
</p>
</div>
<div id="Over3.3E" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
E Details. Visualizing binary variables with interactions terms
</h3>
<p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="multiple-linear-regression.html#cb80-1" tabindex="-1"></a>Term4 <span class="ot">&lt;-</span> Term1[,<span class="fu">c</span>(<span class="st">&quot;numhh&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;logincome&quot;</span>, <span class="st">&quot;logface&quot;</span>, <span class="st">&quot;marstat&quot;</span>)]</span>
<span id="cb80-2"><a href="multiple-linear-regression.html#cb80-2" tabindex="-1"></a>Term4<span class="sc">$</span>marstat <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(Term4<span class="sc">$</span>marstat)</span>
<span id="cb80-3"><a href="multiple-linear-regression.html#cb80-3" tabindex="-1"></a><span class="fu">table</span>(Term4<span class="sc">$</span>marstat)</span>
<span id="cb80-4"><a href="multiple-linear-regression.html#cb80-4" tabindex="-1"></a>Term4<span class="sc">$</span>single <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">*</span>(Term4<span class="sc">$</span>marstat <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb80-5"><a href="multiple-linear-regression.html#cb80-5" tabindex="-1"></a>model_single_inter <span class="ot">&lt;-</span> <span class="fu">lm</span>(logface <span class="sc">~</span> logincome <span class="sc">+</span> single <span class="sc">+</span> single<span class="sc">*</span>logincome, <span class="at">data =</span> Term4)</span>
<span id="cb80-6"><a href="multiple-linear-regression.html#cb80-6" tabindex="-1"></a><span class="fu">summary</span>(model_single_inter)</span>
<span id="cb80-7"><a href="multiple-linear-regression.html#cb80-7" tabindex="-1"></a></span>
<span id="cb80-8"><a href="multiple-linear-regression.html#cb80-8" tabindex="-1"></a><span class="fu">plot</span>(Term4<span class="sc">$</span>logincome,Term4<span class="sc">$</span>logface,<span class="at">xlab=</span><span class="st">&quot;logarithmic income&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;log face&quot;</span>,</span>
<span id="cb80-9"><a href="multiple-linear-regression.html#cb80-9" tabindex="-1"></a>    <span class="at">pch=</span> <span class="dv">1</span><span class="sc">+</span><span class="dv">16</span><span class="sc">*</span>Term4<span class="sc">$</span>single, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>)[Term4<span class="sc">$</span>marstat])</span>
<span id="cb80-10"><a href="multiple-linear-regression.html#cb80-10" tabindex="-1"></a>Ey1 <span class="ot">&lt;-</span> model_single_inter<span class="sc">$</span>coefficients[<span class="dv">1</span>]<span class="sc">+</span>model_single_inter<span class="sc">$</span>coefficients[<span class="dv">2</span>]<span class="sc">*</span>Term4<span class="sc">$</span>logincome</span>
<span id="cb80-11"><a href="multiple-linear-regression.html#cb80-11" tabindex="-1"></a>Ey2 <span class="ot">&lt;-</span> Ey1 <span class="sc">+</span> model_single_inter<span class="sc">$</span>coefficients[<span class="dv">3</span>]<span class="sc">+</span>model_single_inter<span class="sc">$</span>coefficients[<span class="dv">4</span>]<span class="sc">*</span>Term4<span class="sc">$</span>logincome</span>
<span id="cb80-12"><a href="multiple-linear-regression.html#cb80-12" tabindex="-1"></a><span class="fu">lines</span>(Term4<span class="sc">$</span>logincome, Ey1)</span>
<span id="cb80-13"><a href="multiple-linear-regression.html#cb80-13" tabindex="-1"></a><span class="fu">lines</span>(Term4<span class="sc">$</span>logincome, Ey2, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-133-1.png" width="672" /></p>
<pre><code>
  0   1   2 
 57 208  10 

Call:
lm(formula = logface ~ logincome + single + single * logincome, 
    data = Term4)

Residuals:
    Min      1Q  Median      3Q     Max 
-6.2149 -0.8287  0.0696  0.9308  5.6070 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       5.77902    0.92550   6.244 1.64e-09 ***
logincome         0.57288    0.08124   7.051 1.47e-11 ***
single           -7.29211    2.74216  -2.659   0.0083 ** 
logincome:single  0.61244    0.25764   2.377   0.0181 *  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.601 on 271 degrees of freedom
Multiple R-squared:  0.2756,    Adjusted R-squared:  0.2676 
F-statistic: 34.36 on 3 and 271 DF,  p-value: &lt; 2.2e-16</code></pre>
</p>
</div>
</div>
</div>
<div id="exercise.-binary-variables-and-term-life" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Exercise. Binary variables and term life<a href="multiple-linear-regression.html#exercise.-binary-variables-and-term-life" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>In the prior video, we saw how the variable <code>single</code> can be used with logarithmic income to explain logarithmic face amounts of term life insurance that people purchase. The coefficient associated with this variable turns out to be negative which is intuitively appealing; if an individual is single, then that person may not have the strong need to purchase financial security for others in the event of unexpected death.</p>
<p>In this exercise, we will extend this by incorporating <code>single</code> into our larger regression model that contains other explanatory varibles, <code>logincome</code>, <code>education</code> and <code>numhh</code>. The data have been pre-loaded into the dataframe <code>Term4</code>.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Calculate a table of correlation coefficients to examine pairwise linear relationships among the variables <code>numhh</code>, <code>education</code>, <code>logincome</code>, <code>single</code>, and <code>logface</code>.</li>
<li>Fit a MLR model of <code>logface</code> using explanatory variables <code>numhh</code>, <code>education</code>, <code>logincome</code>, and <code>single</code>. Examine the residual standard deviation <span class="math inline">\(s\)</span>, the coefficient of determination <span class="math inline">\(R^2\)</span>, and the adjusted version <span class="math inline">\(R_a^2\)</span>. Also note the statistical significance of the coefficient associated with <code>single</code>.</li>
<li>Repeat the MLR model fit while adding the interaction term <code>single*logincome</code>.</li>
</ul>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNUZXJtIDwtIHJlYWQuY3N2KFwiQ1NWRGF0YVxcXFx0ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvZWZjNjRiYzJkNzhjZjZiNDhhZDJjM2Y1ZTMxODAwY2I3NzNkZTI2MS90ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtMSA8LSBzdWJzZXQoVGVybSwgc3Vic2V0ID0gZmFjZSA+IDApXG5UZXJtNCA8LSBUZXJtMVssYyhcIm51bWhoXCIsIFwiZWR1Y2F0aW9uXCIsIFwibG9naW5jb21lXCIsIFwibWFyc3RhdFwiLCBcImxvZ2ZhY2VcIildXG5UZXJtNCRzaW5nbGUgPC0gMSooVGVybTQkbWFyc3RhdCA9PSAwKSIsInNhbXBsZSI6IiMgQ2FsY3VsYXRlIGEgdGFibGUgb2YgY29ycmVsYXRpb24gY29lZmZpY2llbnRzXG5yb3VuZChfX18oVGVybTRbLGMoXCJudW1oaFwiLCBcImVkdWNhdGlvblwiLCBcImxvZ2luY29tZVwiLCBcInNpbmdsZVwiLCBcImxvZ2ZhY2VcIildKSwgZGlnaXRzID0gMylcblxuIyBGaXQgYSBNTFIgbW9kZWwgb2YgYGxvZ2ZhY2VgIHVzaW5nIGV4cGxhbmF0b3J5IHZhcmlhYmxlcyBgbnVtaGhgLCBgZWR1Y2F0aW9uYCwgYGxvZ2luY29tZWAsIGFuZCBgc2luZ2xlYC5cblRlcm1fbWxyMyA8LSBsbShsb2dmYWNlIH4gZWR1Y2F0aW9uICsgbnVtaGggKyBsb2dpbmNvbWUgKyBzaW5nbGUsIGRhdGEgPSBUZXJtNClcbnN1bW1hcnkoVGVybV9tbHIzKVxuXG4jIFJlcGVhdCB0aGUgTUxSIG1vZGVsIGZpdCB3aGlsZSBhZGRpbmcgdGhlIGludGVyYWN0aW9uIHRlcm0gIGBzaW5nbGUqbG9naW5jb21lYC5cblRlcm1fbWxyNCA8LSBsbShsb2dmYWNlIH4gZWR1Y2F0aW9uICsgbnVtaGggKyBsb2dpbmNvbWUgKyBzaW5nbGUgKyBzaW5nbGUqbG9naW5jb21lLCBkYXRhID0gVGVybTQpXG5zdW1tYXJ5KFRlcm1fbWxyNCkiLCJzb2x1dGlvbiI6InJvdW5kKGNvcihUZXJtNFssYyhcIm51bWhoXCIsIFwiZWR1Y2F0aW9uXCIsIFwibG9naW5jb21lXCIsIFwic2luZ2xlXCIsIFwibG9nZmFjZVwiKV0pLCBkaWdpdHMgPSAzKVxuVGVybV9tbHIzIDwtIGxtKGxvZ2ZhY2UgfiBlZHVjYXRpb24gKyBudW1oaCArIGxvZ2luY29tZSArIHNpbmdsZSwgZGF0YSA9IFRlcm00KVxuc3VtbWFyeShUZXJtX21scjMpXG5UZXJtX21scjQgPC0gbG0obG9nZmFjZSB+IGVkdWNhdGlvbiArIG51bWhoICsgbG9naW5jb21lICsgc2luZ2xlICsgc2luZ2xlKmxvZ2luY29tZSwgZGF0YSA9IFRlcm00KVxuc3VtbWFyeShUZXJtX21scjQpIiwic2N0IjoiZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJyb3VuZFwiLCBub3RfY2FsbGVkX21zZz1cIlVzZSBgcm91bmRgIG9uIHRoZSBjb3JyZWxhdGlvbiBjb2VmZmljaWVudHMgZm91bmQgdXNpbmcgYGNvcmAgdG8gMyBkaWdpdHMuXCIpICU+JSBjaGVja19yZXN1bHQoKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIlVzZSBgY29yYCB0byBmaW5kIHRoZSBjb3JyZWxhdGlvbnMsIGFuZCB0aGVuIHJvdW5kIHRoZW0gdG8gMyBkaWdpdHMuIFwiKVxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwiVGVybV9tbHIzXCIsIHVuZGVmaW5lZF9tc2c9XCJVc2UgYGxtYCB0byBjcmVhdGUgYSBsaW5lYXIgbW9kZWwgbmFtZWQgYFRlcm1fbWxyM2AuXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiWW91IGxpbmVhciBtb2RlbCBzaG91bGQgbW9kZWwgYGxvZ2ZhY2VgIGJhc2VkIG9uIGBlZHVjYXRpb25gLCBgbnVtaGhgLCBgbG9naW5jb21lYCwgYW5kIGBzaW5nbGVgIGZyb20gdGhlIGRhdGEgaW4gYFRlcm00YC5cIilcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwic3VtbWFyeVwiLGluZGV4PTEsbm90X2NhbGxlZF9tc2c9XCJVc2UgYHN1bW1hcnlgIHRvIHZpZXcgYSBzdW1tYXJ5IG9mIGBUZXJtX21scjNgLlwiKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJNYWtlIHN1cmUgdG8gc3BlY2lmeSB0aGF0IHdlIHdhbnQgYSBzdW1tYXJ5IG9mIGBUZXJtX21scjNgLlwiKVxuIGV4KCkgJT4lIGNoZWNrX29iamVjdChcIlRlcm1fbWxyNFwiLCB1bmRlZmluZWRfbXNnPVwiVXNlIGBsbWAgdG8gY3JlYXRlIGEgbGluZWFyIG1vZGVsIG5hbWVkIGBUZXJtX21scjRgLlwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIllvdSBsaW5lYXIgbW9kZWwgc2hvdWxkIG1vZGVsIGBsb2dmYWNlYCBiYXNlZCBvbiBgZWR1Y2F0aW9uYCwgYG51bWhoYCwgYGxvZ2luY29tZWAsIGFuZCB0aGUgcHJvZHVjdCBvZiBgc2luZ2xlYCBhbmQgYGxvZ2luY29tZWAgZnJvbSB0aGUgZGF0YSBpbiBgVGVybTRgLlwiKVxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJzdW1tYXJ5XCIsaW5kZXg9Mixub3RfY2FsbGVkX21zZz1cIlVzZSBgc3VtbWFyeWAgdG8gdmlldyBhIHN1bW1hcnkgb2YgYFRlcm1fbWxyNGAuXCIpICU+JSBjaGVja19yZXN1bHQoKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIk1ha2Ugc3VyZSB0byBzcGVjaWZ5IHRoYXQgd2Ugd2FudCBhIHN1bW1hcnkgb2YgYFRlcm1fbWxyNGAuXCIpXG5zdWNjZXNzX21zZyhcIkNvbmdyYXR1bGF0aW9ucyEgRnJvbSBhIGNvcnJlbGF0aW9uIHRhYmxlLCB5b3Ugc2F3IHRoYXQgdGhlcmUgYXJlIHJlbGF0aW9uc2hpcHMgd2l0aCBhbW9uZyBleHBsYW5hdG9yeSB2YXJpYWJsZXMgYW5kIHNvIGl0IGlzIG5vdCBjbGVhciB3aGV0aGVyIGFkZGluZyBgc2luZ2xlYCB0byB0aGUgbW9kZWwgd291bGQgYmUgaGVscGZ1bC4gWW91IGV4cGxvcmVkIHRoaXMgYnkgZmlyc3QgZml0dGluZyBhIG1vZGVsIGJ5IGp1c3QgYWRkaW5nIHRoZSBiaW5hcnkgdmFyaWFibGUgc2luZ2xlLCBleGFtaW5lZCBzdW1tYXJ5IHN0YXRpc3RpY3MsIGFuZCBjaGVja2VkIHRoZSBzaWduaWZpY2FuY2Ugb2YgdGhlIHZhcmlhYmxlLiBUaGVuLCB5b3UgZXhwbG9yZWQgdGhlIHV0aWxpdHkgb2YgdGhlIGludGVyYWN0aW9uIG9mIGBzaW5nbGVgIHdpdGggbG9nYXJpdGhtaWMgaW5jb21lLiBXZWxsIGRvbmUhXCIpIiwiaGludCI6IlRvIGdldCBhIHRhYmxlIG9mIGNvcnJlbGF0aW9ucywgdGhlIDxjb2RlPmNvcigpPC9jb2RlPiBmdW5jdGlvbiBjYW4gYmUgdXNlZC5cbkFmdGVyIHRoYXQsIGEgY29tYmluYXRpb24gb2YgPGNvZGU+bG0oKTwvY29kZT4gYW5kIDxjb2RlPnN1bW1hcnkoKTwvY29kZT4gY2FuIGJlIHVzZWQgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCByZXN1bHRzIn0=
</div>
</div>
</div>
<div id="categorical-variables" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Categorical variables<a href="multiple-linear-regression.html#categorical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Represent categorical variables using a set of binary variables</li>
<li>Interpret the regression coefficients associated with categorical variables</li>
<li>Describe the effect of the reference level choice on the model fit</li>
</ul>
<hr />
<div id="video-12" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Video<a href="multiple-linear-regression.html#video-12" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25916071/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=0_gkywbwai&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;&amp;wid=1_n73q1ka4" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
<div id="video-overhead-details-12" class="section level4 unnumbered hasAnchor">
<h4>Video Overhead Details<a href="multiple-linear-regression.html#video-overhead-details-12" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="tab">
<p><button class="tablinks" onclick="openTab(event, 'Over3.4A')">A Details. Categorical variables</button>
<button class="tablinks" onclick="openTab(event, 'Over3.4B')">B Details. Term life example</button>
<button class="tablinks" onclick="openTab(event, 'Over3.4C')">C Details. Term life boxplots</button>
<button class="tablinks" onclick="openTab(event, 'Over3.4D')">D Details. Regression with a categorical variable</button>
<button class="tablinks" onclick="openTab(event, 'Over3.4E')">E Details. t-ratios depend on the reference level</button></p>
</div>
<div id="Over3.4A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
A Details. Categorical variables
</h3>
<p>
<ul>
<li><em>Categorical variables</em> provide labels for observations to denote membership in distinct groups, or categories.</li>
<li>A <em>binary variable</em> is a special case of a categorical variable.
<ul>
<li>To illustrate, a binary variable may tell us whether or not someone has
health insurance.</li>
<li>A categorical variable could tell us whether someone has (i) private individual health insurance, (ii) private group insurance, (iii) public insurance or (iv) no health insurance.</li>
</ul></li>
<li>For categorical variables, there may or may not be an ordering of the groups.
<ul>
<li>For health insurance, it is difficult to say which is ‘larger’, private individual versus public health insurance (such as Medicare).</li>
<li>However, for education, we may group individuals from a dataset into ‘low’, ‘intermediate’ and ‘high’ years of education.</li>
</ul></li>
<li><em>Factor</em> is another term used for a (unordered) categorical explanatory variable.</li>
</ul>
</p>
</div>
<div id="Over3.4B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
B Details. Term life example
</h3>
<p>
<ul>
<li>We studied <em>y = logface</em>, the amount that the company will pay in the event
of the death of the named insured (in logarithmic dollars), focusing on the explanatory variables <em>logincome</em>, <em>education</em>, and <em>numhh</em>.</li>
<li>We now supplement this by including the categorical variable, <em>marstat</em>, that is the marital status of the survey respondent. This may be:
<ul>
<li>1, for married</li>
<li>2, for living with partner</li>
<li>0, for other (SCF actually breaks this category into separated, divorced, widowed, never married and inapplicable, for persons age 17 or less or no further persons)</li>
</ul></li>
</ul>
</p>
</div>
<div id="Over3.4C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
C Details. Term life boxplots
</h3>
<p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="multiple-linear-regression.html#cb82-1" tabindex="-1"></a><span class="co"># Pre-exercise code</span></span>
<span id="cb82-2"><a href="multiple-linear-regression.html#cb82-2" tabindex="-1"></a><span class="co">#Term &lt;- read.csv(&quot;CSVData\\term_life.csv&quot;, header = TRUE)</span></span>
<span id="cb82-3"><a href="multiple-linear-regression.html#cb82-3" tabindex="-1"></a>Term <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://assets.datacamp.com/production/repositories/2610/datasets/efc64bc2d78cf6b48ad2c3f5e31800cb773de261/term_life.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb82-4"><a href="multiple-linear-regression.html#cb82-4" tabindex="-1"></a>Term1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(Term, <span class="at">subset =</span> face <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb82-5"><a href="multiple-linear-regression.html#cb82-5" tabindex="-1"></a>Term4 <span class="ot">&lt;-</span> Term1[,<span class="fu">c</span>(<span class="st">&quot;numhh&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;logincome&quot;</span>, <span class="st">&quot;marstat&quot;</span>, <span class="st">&quot;logface&quot;</span>)]</span>
<span id="cb82-6"><a href="multiple-linear-regression.html#cb82-6" tabindex="-1"></a>Term4<span class="sc">$</span>single <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">*</span>(Term4<span class="sc">$</span>marstat <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb82-7"><a href="multiple-linear-regression.html#cb82-7" tabindex="-1"></a>Term4<span class="sc">$</span>marstat<span class="ot">&lt;-</span> <span class="fu">as.factor</span>(Term4<span class="sc">$</span>marstat)</span>
<span id="cb82-8"><a href="multiple-linear-regression.html#cb82-8" tabindex="-1"></a><span class="fu">boxplot</span>(logface <span class="sc">~</span> marstat, <span class="at">ylab =</span> <span class="st">&quot;log face&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Marital Status&quot;</span>, <span class="at">data =</span> Term4)</span></code></pre></div>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-139-1.png" width="672" /></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="multiple-linear-regression.html#cb83-1" tabindex="-1"></a><span class="fu">table</span>(Term4<span class="sc">$</span>marstat)</span>
<span id="cb83-2"><a href="multiple-linear-regression.html#cb83-2" tabindex="-1"></a><span class="co">#  SUMMARY BY LEVEL OF MARSTAT</span></span>
<span id="cb83-3"><a href="multiple-linear-regression.html#cb83-3" tabindex="-1"></a><span class="co">#library(Rcmdr)</span></span>
<span id="cb83-4"><a href="multiple-linear-regression.html#cb83-4" tabindex="-1"></a><span class="co">#numSummary(Term4[, &quot;logface&quot;], groups = Term4$marstat, statistics = c(&quot;mean&quot;, &quot;sd&quot;))</span></span>
<span id="cb83-5"><a href="multiple-linear-regression.html#cb83-5" tabindex="-1"></a><span class="co">#numSummary(Term4[, &quot;logface&quot;], statistics = c(&quot;mean&quot;, &quot;sd&quot;))</span></span></code></pre></div>
<pre><code>
  0   1   2 
 57 208  10 </code></pre>
</p>
</div>
<div id="Over3.4D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
D Details. Regression with a categorical variable
</h3>
<p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="multiple-linear-regression.html#cb85-1" tabindex="-1"></a>Term4<span class="sc">$</span>marstat <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(Term4<span class="sc">$</span>marstat)</span>
<span id="cb85-2"><a href="multiple-linear-regression.html#cb85-2" tabindex="-1"></a>Term4<span class="sc">$</span>marstat <span class="ot">&lt;-</span> <span class="fu">relevel</span>(Term4<span class="sc">$</span>marstat, <span class="at">ref =</span> <span class="st">&quot;2&quot;</span>)</span>
<span id="cb85-3"><a href="multiple-linear-regression.html#cb85-3" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(logface <span class="sc">~</span> logincome<span class="sc">+</span>education<span class="sc">+</span>numhh<span class="sc">+</span>marstat, <span class="at">data =</span> Term4))</span></code></pre></div>
<pre><code>
Call:
lm(formula = logface ~ logincome + education + numhh + marstat, 
    data = Term4)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.8875 -0.8505  0.1124  0.8468  4.5173 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  2.60536    0.95218   2.736 0.006629 ** 
logincome    0.45151    0.07872   5.736 2.61e-08 ***
education    0.20467    0.03862   5.299 2.42e-07 ***
numhh        0.24770    0.06940   3.569 0.000424 ***
marstat0     0.23234    0.53283   0.436 0.663155    
marstat1     0.78941    0.49532   1.594 0.112169    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.513 on 269 degrees of freedom
Multiple R-squared:  0.358, Adjusted R-squared:  0.3461 
F-statistic:    30 on 5 and 269 DF,  p-value: &lt; 2.2e-16</code></pre>
</p>
</div>
<div id="Over3.4E" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
E Details. t-ratios depend on the reference level
</h3>
<p>
<span class="math display">\[
\begin{array}{l|rr|rr|rr}
\hline
&amp; \text{Model 1}&amp;&amp; \text{Model 2}&amp;&amp; \text{Model 3}&amp;\\
\hline
\text{Var}&amp; \text{Coef} &amp; \text{t-stat} &amp; \text{Coef} &amp; \text{t-stat} &amp;\text{Coef} &amp; \text{t-stat} \\\hline
logincome &amp; 0.452 &amp; 5.74 &amp; 0.452 &amp; 5.74 &amp; 0.452 &amp; 5.74 \\
education &amp;0.205 &amp; 5.30 &amp;0.205 &amp; 5.30&amp;0.205 &amp; 5.30 \\
numhh     &amp; 0.248 &amp; 3.57 &amp; 0.248 &amp; 3.57 &amp; 0.248 &amp; 3.57 \\\hline
\text{Intercept} &amp; 3.395 &amp; 3.77  &amp; 2.605&amp;  2.74 &amp; 2.838 &amp; 3.34\\
\text{mar=0}    &amp; -0.557 &amp; -2.15&amp;  0.232 &amp;  0.44\\
\text{mar=1} &amp; &amp; &amp; 0.789 &amp; 1.59 &amp; 0.557 &amp; 2.15\\
\text{mar=2}&amp; -0.789 &amp; -1.59 &amp; &amp; &amp; -0.232 &amp; -0.44\\
\hline
\end{array}
\]</span>
</p>
</div>
</div>
</div>
<div id="exercise.-categorical-variables-and-wisconsin-hospital-costs" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Exercise. Categorical variables and Wisconsin hospital costs<a href="multiple-linear-regression.html#exercise.-categorical-variables-and-wisconsin-hospital-costs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>This exercise examines the impact of various predictors on hospital charges. Identifying predictors of hospital charges can provide direction for hospitals, government, insurers and consumers in controlling these variables that in turn leads to better control of hospital costs. The data, from 1989, are aggregated by:</p>
<ul>
<li><code>drg</code>, diagnostic related groups of costs,</li>
<li><code>payer</code>, type of health care provider (Fee for service, HMO, and other), and</li>
<li><code>hsa</code>, nine major geographic areas in Wisconsin.</li>
</ul>
<p>Some preliminary analysis of the data has already been done. In this exercise, we will analyze <code>logcharge</code>, the logarithm of total hospital charges per number of discharges, in terms of <code>log_numdschg</code>, the logarithm of the number of discharges. In the dataframe <code>Hcost</code> which has been loaded in advance, we restrict consideration to three types of drgs, numbers 209, 391, and 431.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Fit a basic linear regression model using logarithmic number of discharges to predict logarithmic hospital costs and superimposed the fitted regression line on the scatter plot.</li>
<li>Produce a scatter plot of logarithmic number of discharges to predict logarithmic hospital costs. Allow plotting symbols and colors to vary by diagnostic related group.</li>
<li>Fit a MLR model using logarithmic number of discharges to predict logarithmic hospital costs, allowing intercepts and slopes to vary by diagnostic related groups.</li>
<li>Superimpose the fits from the MLR model on the scatter plot of logarithmic number of discharges to predict logarithmic hospital costs.</li>
</ul>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNIY29zdCA8LSByZWFkLmNzdihcIkNTVkRhdGFcXFxcV2lzY0hjb3N0cy5jc3ZcIiwgaGVhZGVyID0gVFJVRSlcbkhjb3N0IDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvMmNjMWUyNzM5YmY4MjcwOTNkYjMxZDdjNGU2ZGNkYzM0OGFjOTg0ZS9XaXNjSGNvc3RzLmNzdlwiLCBoZWFkZXIgPSBUUlVFKVxuSGNvc3QxIDwtIHN1YnNldChIY29zdCwgZHJnID09IDIwOXxkcmcgPT0gMzkxfGRyZyA9PSA0MzApIiwic2FtcGxlIjoiIyBGaXQgYSBiYXNpYyBsaW5lYXIgcmVncmVzc2lvbiBtb2RlbCB1c2luZyBsb2dhcml0aG1pYyBudW1iZXIgb2YgZGlzY2hhcmdlcyB0byBwcmVkaWN0IGxvZ2FyaXRobWljIGhvc3BpdGFsIGNvc3RzIGFuZCBzdXBlcmltcG9zZWQgdGhlIGZpdHRlZCByZWdyZXNzaW9uIGxpbmUgb24gdGhlIHNjYXR0ZXIgcGxvdC5cbmhvc3BfYmxyIDwtIGxtKGxvZ2NoYXJnZX5sb2dfbnVtZHNjaGcsIGRhdGE9SGNvc3QxKVxucGxvdChsb2djaGFyZ2V+bG9nX251bWRzY2hnLCBkYXRhPUhjb3N0MSwgeGxhYiA9IFwibG9nIG51bWJlciBkaXNjaGFyZ2VzXCIsIHlsYWIgPSBcImxvZyBjaGFyZ2VcIilcbmFibGluZShob3NwX2JsciwgY29sPVwicmVkXCIpXG5cbiMgUHJvZHVjZSBhIHNjYXR0ZXIgcGxvdCBvZiBsb2dhcml0aG1pYyBudW1iZXIgb2YgZGlzY2hhcmdlcyB0byBwcmVkaWN0IGxvZ2FyaXRobWljIGhvc3BpdGFsIGNvc3RzLiBBbGxvdyBwbG90dGluZyBzeW1ib2xzIGFuZCBjb2xvcnMgdG8gdmFyeSBieSBkaWFnbm9zdGljIHJlbGF0ZWQgZ3JvdXAuXG5wbG90KGxvZ2NoYXJnZX5sb2dfbnVtZHNjaGcsIGRhdGE9SGNvc3QxLCB4bGFiID0gXCJsb2cgbnVtYmVyIGRpc2NoYXJnZXNcIiwgeWxhYiA9IFwibG9nIGNoYXJnZVwiLFxuICAgIHBjaD0gYXMubnVtZXJpYyhhcy5mYWN0b3IoSGNvc3QxJGRyZykpLCBcbiAgICBjb2wgPSBjKFwicmVkXCIsIFwiYmxhY2tcIiwgXCJibHVlXCIpW2FzLmZhY3RvcihIY29zdDEkZHJnKV0pXG5sZWdlbmQoXCJsZWZ0XCIsIGxlZ2VuZD1jKFwiZHJnIDIwOVwiLFwiZHJnIDM5MVwiLCBcImRyZyA0MzBcIiksIGNvbD1jKFwicmVkXCIsIFwiYmxhY2tcIiwgXCJibHVlXCIpLCBwY2ggPSBjKDEsMiwzKSlcblxuIyBGaXQgYSBNTFIgbW9kZWwgYWxsb3dpbmcgaW50ZXJjZXB0cyBhbmQgc2xvcGVzIHRvIHZhcnkgYnkgZHJnLlxuaG9zcF9tbHIgPC0gbG0obG9nY2hhcmdlfmxvZ19udW1kc2NoZyArIGFzLmZhY3RvcihkcmcpKmxvZ19udW1kc2NoZywgZGF0YT1IY29zdDEpXG5cbiMgU3VwZXJpbXBvc2UgdGhlIGZpdHMgZnJvbSB0aGUgTUxSIG1vZGVsIG9uIHRoZSBzY2F0dGVyIHBsb3Qgb2YgbG9nYXJpdGhtaWMgbnVtYmVyIG9mIGRpc2NoYXJnZXMgdG8gcHJlZGljdCBsb2dhcml0aG1pYyBob3NwaXRhbCBjb3N0cy5cbnBsb3QobG9nY2hhcmdlfmxvZ19udW1kc2NoZywgZGF0YT1IY29zdDEsIHhsYWIgPSBcImxvZyBudW1iZXIgZGlzY2hhcmdlc1wiLCB5bGFiID0gXCJsb2cgY2hhcmdlXCIsXG4gICAgICAgICBwY2g9IGFzLm51bWVyaWMoYXMuZmFjdG9yKEhjb3N0MSRkcmcpKSwgXG4gICAgY29sID0gYyhcInJlZFwiLCBcImJsYWNrXCIsIFwiYmx1ZVwiKVthcy5mYWN0b3IoSGNvc3QxJGRyZyldKVxueHNlcSA8LSBzZXEoMCwxMCxsZW5ndGgub3V0PTEwMClcbmNvZWYgPC0gc3VtbWFyeShob3NwX21scikkY29lZmZpY2llbnRzWywxXVxuZml0MjA5IDwtIGNvZWZbMV0gKyBjb2VmWzJdKnhzZXFcbmxpbmVzKHhzZXEsZml0MjA5LCBjb2w9XCJyZWRcIilcbmZpdDM5MSA8LSBjb2VmWzFdICsgY29lZlszXSArIChjb2VmWzJdICsgY29lZls1XSkqeHNlcVxubGluZXMoeHNlcSxmaXQzOTEsIGNvbD1cImJsYWNrXCIpXG5maXQ0MzAgPC0gY29lZlsxXSArIGNvZWZbNF0gKyAoY29lZlsyXSArIGNvZWZbNl0pKnhzZXFcbmxpbmVzKHhzZXEsZml0NDMwLCBjb2w9XCJibHVlXCIpIiwic29sdXRpb24iOiIjcGFyKG1mcm93ID0gYygyLCAxKSlcbmhvc3BfYmxyIDwtIGxtKGxvZ2NoYXJnZX5sb2dfbnVtZHNjaGcsIGRhdGE9SGNvc3QxKVxucGxvdChsb2djaGFyZ2V+bG9nX251bWRzY2hnLCBkYXRhPUhjb3N0MSwgeGxhYiA9IFwibG9nIG51bWJlciBkaXNjaGFyZ2VzXCIsIHlsYWIgPSBcImxvZyBjaGFyZ2VcIilcbmFibGluZShob3NwX2JsciwgY29sPVwicmVkXCIpXG5cbnBsb3QobG9nY2hhcmdlfmxvZ19udW1kc2NoZywgZGF0YT1IY29zdDEsIHhsYWIgPSBcImxvZyBudW1iZXIgZGlzY2hhcmdlc1wiLCB5bGFiID0gXCJsb2cgY2hhcmdlXCIsXG4gICAgcGNoPSBhcy5udW1lcmljKGFzLmZhY3RvcihIY29zdDEkZHJnKSksIFxuICAgIGNvbCA9IGMoXCJyZWRcIiwgXCJibGFja1wiLCBcImJsdWVcIilbYXMuZmFjdG9yKEhjb3N0MSRkcmcpXSlcbmxlZ2VuZChcImxlZnRcIiwgbGVnZW5kPWMoXCJkcmcgMjA5XCIsXCJkcmcgMzkxXCIsIFwiZHJnIDQzMFwiKSwgY29sPWMoXCJyZWRcIiwgXCJibGFja1wiLCBcImJsdWVcIiksIHBjaCA9IGMoMSwyLDMpKVxuXG5ob3NwX21sciA8LSBsbShsb2djaGFyZ2V+bG9nX251bWRzY2hnICsgYXMuZmFjdG9yKGRyZykqbG9nX251bWRzY2hnLCBkYXRhPUhjb3N0MSlcbiNzdW1tYXJ5KGhvc3BfbWxyKSRjb2VmZmljaWVudHNbLDFdXG5wbG90KGxvZ2NoYXJnZX5sb2dfbnVtZHNjaGcsIGRhdGE9SGNvc3QxLCB4bGFiID0gXCJsb2cgbnVtYmVyIGRpc2NoYXJnZXNcIiwgeWxhYiA9IFwibG9nIGNoYXJnZVwiLFxuICAgICAgICAgcGNoPSBhcy5udW1lcmljKGFzLmZhY3RvcihIY29zdDEkZHJnKSksIFxuICAgIGNvbCA9IGMoXCJyZWRcIiwgXCJibGFja1wiLCBcImJsdWVcIilbYXMuZmFjdG9yKEhjb3N0MSRkcmcpXSlcbnhzZXEgPC0gc2VxKDAsMTAsbGVuZ3RoLm91dD0xMDApXG5jb2VmIDwtIHN1bW1hcnkoaG9zcF9tbHIpJGNvZWZmaWNpZW50c1ssMV1cbmZpdDIwOSA8LSBjb2VmWzFdICsgY29lZlsyXSp4c2VxXG5saW5lcyh4c2VxLGZpdDIwOSwgY29sPVwicmVkXCIpXG5maXQzOTEgPC0gY29lZlsxXSArIGNvZWZbM10gKyAoY29lZlsyXSArIGNvZWZbNV0pKnhzZXFcbmxpbmVzKHhzZXEsZml0MzkxLCBjb2w9XCJibGFja1wiKVxuZml0NDMwIDwtIGNvZWZbMV0gKyBjb2VmWzRdICsgKGNvZWZbMl0gKyBjb2VmWzZdKSp4c2VxXG5saW5lcyh4c2VxLGZpdDQzMCwgY29sPVwiYmx1ZVwiKSIsInNjdCI6InN1Y2Nlc3NfbXNnKFwiQ29uZ3JhdHVsYXRpb25zISBXaGVuIHlvdSBzdXBlcmltcG9zZWQgdGhlIGZpdHMgZnJvbSB0aGUgTUxSIG1vZGVsIG9uIHRoZSBzY2F0dGVyIHBsb3Qgb2YgbG9nYXJpdGhtaWMgbnVtYmVyIG9mIGRpc2NoYXJnZXMgdG8gcHJlZGljdCBsb2dhcml0aG1pYyBob3NwaXRhbCBjb3N0cywgbm90ZSBob3cgc2xvcGVzIGRpZmZlciBkcmFtYXRpY2FsbHkgZnJvbSB0aGUgc2xvcGUgZnJvbSB0aGUgYmFzaWMgbGluZWFyIHJlZ3Jlc3Npb24gbW9kZWwuXCIpIiwiaGludCI6IlRoZXJlIGlzIGN1cnJlbnRseSBub3RoaW5nIHRvIGNoYW5nZSBpbiB0aGlzIHR1dG9yaWFsISBTaW1wbHkgbG9vayBvdmVyIHRoZSBjb2RlIGFuZCB0cnkgdG8gdW5kZXJzdGFuZCB3aGF0IGVhY2ggbGluZSBkb2VzLiJ9
</div>
</div>
</div>
<div id="general-linear-hypothesis" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> General linear hypothesis<a href="multiple-linear-regression.html#general-linear-hypothesis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Jointly test the significance of a set of regression coefficients using the general linear hypothesis</li>
<li>Conduct a test of a regression coefficient versus one- or two-side alternatives</li>
</ul>
<hr />
<div id="video-13" class="section level3 hasAnchor" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Video<a href="multiple-linear-regression.html#video-13" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25916071/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=0_gs9oqymi&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;&amp;wid=1_j9btj8ns" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
<div id="video-overhead-details-13" class="section level4 unnumbered hasAnchor">
<h4>Video Overhead Details<a href="multiple-linear-regression.html#video-overhead-details-13" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="tab">
<p><button class="tablinks" onclick="openTab(event, 'Over3.5A')">A Details. Testing the significance of a categorical variable</button>
<button class="tablinks" onclick="openTab(event, 'Over3.5B')">B Details. Overview of the general linear hypothesis</button>
<button class="tablinks" onclick="openTab(event, 'Over3.5C')">C Details. Procedure for conducting the general linear hypothesis</button>
<button class="tablinks" onclick="openTab(event, 'Over3.5D')">D Details. The general linear hypothesis for a single variable</button></p>
</div>
<div id="Over3.5A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
A Details. Testing the significance of a categorical variable
</h3>
<p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="multiple-linear-regression.html#cb87-1" tabindex="-1"></a><span class="co">#Term &lt;- read.csv(&quot;CSVData\\term_life.csv&quot;, header = TRUE)</span></span>
<span id="cb87-2"><a href="multiple-linear-regression.html#cb87-2" tabindex="-1"></a>Term <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://assets.datacamp.com/production/repositories/2610/datasets/efc64bc2d78cf6b48ad2c3f5e31800cb773de261/term_life.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb87-3"><a href="multiple-linear-regression.html#cb87-3" tabindex="-1"></a>Term1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(Term, <span class="at">subset =</span> face <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb87-4"><a href="multiple-linear-regression.html#cb87-4" tabindex="-1"></a>Term4 <span class="ot">&lt;-</span> Term1[,<span class="fu">c</span>(<span class="st">&quot;numhh&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;logincome&quot;</span>, <span class="st">&quot;marstat&quot;</span>, <span class="st">&quot;logface&quot;</span>)]</span>
<span id="cb87-5"><a href="multiple-linear-regression.html#cb87-5" tabindex="-1"></a>Term_mlr1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(logface <span class="sc">~</span> logincome <span class="sc">+</span> education <span class="sc">+</span> numhh <span class="sc">+</span> <span class="fu">as.factor</span>(Term4<span class="sc">$</span>marstat), <span class="at">data =</span> Term4)</span>
<span id="cb87-6"><a href="multiple-linear-regression.html#cb87-6" tabindex="-1"></a><span class="fu">anova</span>(Term_mlr1)</span>
<span id="cb87-7"><a href="multiple-linear-regression.html#cb87-7" tabindex="-1"></a>Term_mlr2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(logface <span class="sc">~</span> logincome <span class="sc">+</span> education <span class="sc">+</span> numhh, <span class="at">data =</span> Term4)</span>
<span id="cb87-8"><a href="multiple-linear-regression.html#cb87-8" tabindex="-1"></a></span>
<span id="cb87-9"><a href="multiple-linear-regression.html#cb87-9" tabindex="-1"></a>Fstat <span class="ot">&lt;-</span> (<span class="fu">anova</span>(Term_mlr2)<span class="sc">$</span><span class="st">`</span><span class="at">Sum Sq</span><span class="st">`</span>[<span class="dv">4</span>] <span class="sc">-</span> <span class="fu">anova</span>(Term_mlr1)<span class="sc">$</span><span class="st">`</span><span class="at">Sum Sq</span><span class="st">`</span>[<span class="dv">5</span>])<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span><span class="fu">anova</span>(Term_mlr1)<span class="sc">$</span><span class="st">`</span><span class="at">Mean Sq</span><span class="st">`</span>[<span class="dv">5</span>])</span>
<span id="cb87-10"><a href="multiple-linear-regression.html#cb87-10" tabindex="-1"></a>Fstat</span>
<span id="cb87-11"><a href="multiple-linear-regression.html#cb87-11" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;p-value is&quot;</span>, <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pf</span>(Fstat, <span class="at">df1 =</span> <span class="dv">2</span> , <span class="at">df2 =</span> <span class="fu">anova</span>(Term_mlr1)<span class="sc">$</span>Df[<span class="dv">5</span>]))</span></code></pre></div>
<pre><code>Analysis of Variance Table

Response: logface
                          Df Sum Sq Mean Sq F value    Pr(&gt;F)    
logincome                  1 222.63 222.629  97.280 &lt; 2.2e-16 ***
education                  1  51.50  51.502  22.504 3.407e-06 ***
numhh                      1  54.34  54.336  23.743 1.883e-06 ***
as.factor(Term4$marstat)   2  14.81   7.406   3.236   0.04085 *  
Residuals                269 615.62   2.289                      
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
[1] 3.236048
p-value is 0.04085475</code></pre>
</p>
</div>
<div id="Over3.5B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
B Details. Overview of the general linear hypothesis
</h3>
<p>
<ul>
<li>The likelihood ratio is a general statistical test procedure that compares a model to a subset</li>
<li>The general linear hypothesis test procedure is similar.
<ul>
<li>Start with a (large) linear regression model, examine the fit to a set of data</li>
<li>Compare this to smaller model that is a subset of the large model.</li>
<li>“Subset” is the sense that regression coefficients from the small model are linear combinations of regression coefficients of the large model (e.g., set them to zero)</li>
</ul></li>
<li>Although the likelihood ratio test is more generally available, the general linear hypothesis test is more accurate for smaller data sets (for normally distributed data)</li>
</ul>
</p>
</div>
<div id="Over3.5C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
C Details. Procedure for conducting the general linear hypothesis
</h3>
<p>
<ul>
<li>Run the full regression and get the error sum of squares and mean square error, which we label as <span class="math inline">\((Error SS)_{full}\)</span> and <span class="math inline">\(s^2_{full}\)</span>, respectively.</li>
<li>Run a reduced regression and get the error sum of squares, labelled <span class="math inline">\((Error SS)_{reduced}\)</span>.</li>
<li>Using <span class="math inline">\(p\)</span> for the number of linear restrictions, calculate
<span class="math display">\[
F-ratio = \frac{(Error SS)_{reduced}-(Error SS)_{full}}{p s^2_{full}} .
\]</span></li>
<li>The probability value is <span class="math inline">\(p-value = \Pr(F_{p,df} &gt; F-ratio)\)</span> where <span class="math inline">\(F_{p,df}\)</span> has an <em>F</em> distribution with degrees of freedom <em>p</em> and <em>df</em>, respectively. (Here, <em>df</em> is the degrees of freedom for the full model.)</li>
</ul>
</p>
</div>
<div id="Over3.5D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;"><button>Hide</button></span>
<h3>
D Details. The general linear hypothesis for a single variable
</h3>
<p>
<ul>
<li>Suppose that you wish to test the hypothesisthat a regression coefficient equals 0.
<ul>
<li>One could use the general linear hypothsis procedure with <span class="math inline">\(p=1\)</span>.</li>
<li>One could also examine the corresponding <span class="math inline">\(t-ratio\)</span>.</li>
<li>Which is correct?</li>
</ul></li>
<li>Both. One can show that <span class="math inline">\((t-ratio)^2 = F-ratio\)</span>, so they are equivalent statistics.
<ul>
<li>The general linear hypothesis is useful because it can be extended to multiple coefficients.</li>
<li>The <em>t-ratio</em> is useful because it can be used to examine one-sided alternative hypotheses.</li>
</ul></li>
</ul>
</p>
</div>
</div>
</div>
<div id="exercise.-hypothesis-testing-and-term-life" class="section level3 hasAnchor" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Exercise. Hypothesis testing and term life<a href="multiple-linear-regression.html#exercise.-hypothesis-testing-and-term-life" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>With our <code>Term life</code> data, let us compare a model based on the binary variable that indicates whether a survey respondent is single versus the more complex marital status, <code>marstat</code>. In principle, more detailed information is better. But, it may be that the additional information in <code>marstat</code>, compared to <code>single</code>, does not help fit the data in a significantly better way.</p>
<p>As part of the preparatory work, the dataframe <code>Term4</code> is available that includes the binary variable <code>single</code> and the factor <code>marstat</code>. Moreover, the regression object <code>Term_mlr</code> contains information in a multiple linear regression fit of <code>logface</code> on the base explanatory variables ’logincome<code>,</code>education<code>, and</code>numhh`.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Fit a MLR model using the base explanatory variables plus <code>single</code> and another model using the base variables plus <code>marstat</code>.</li>
<li>Use the F test to decide whether the additional complexity <code>marstat</code> is warranted by calculating the p-value associated with this test.</li>
<li>Fit a MLR model using the base explanatory variables plus <code>single</code> interacted with <code>logincome</code> and another model using the base variables plus <code>marstat</code> interacted with <code>logincome</code>.</li>
<li>Use the F test to decide whether the additional complexity <code>marstat</code> is warranted by calculating the p-value associated with this test.</li>
</ul>
<p><strong>Hint</strong></p>
<pre><code>Here is the code to calculate it by hand
Fstat12 &lt;- (anova(Term_mlr1)$`Sum Sq`[5] - 
              anova(Term_mlr2)$`Sum Sq`[5])/(1*anova(Term_mlr2)$`Mean Sq`[5])
Fstat12
cat(&quot;p-value is&quot;, 1 - pf(Fstat12, df1 = 1 , df2 = anova(Term_mlr2)$Df[5]))</code></pre>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNUZXJtIDwtIHJlYWQuY3N2KFwiQ1NWRGF0YVxcXFx0ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvZWZjNjRiYzJkNzhjZjZiNDhhZDJjM2Y1ZTMxODAwY2I3NzNkZTI2MS90ZXJtX2xpZmUuY3N2XCIsIGhlYWRlciA9IFRSVUUpXG5UZXJtMSA8LSBzdWJzZXQoVGVybSwgc3Vic2V0ID0gZmFjZSA+IDApXG5UZXJtNCA8LSBUZXJtMVssYyhcIm51bWhoXCIsIFwiZWR1Y2F0aW9uXCIsIFwibG9naW5jb21lXCIsIFwibWFyc3RhdFwiLCBcImxvZ2ZhY2VcIildXG5UZXJtNCRzaW5nbGUgPC0gMSooVGVybTQkbWFyc3RhdCA9PSAwKVxuVGVybTQkbWFyc3RhdCA8LSBhcy5mYWN0b3IoVGVybTQkbWFyc3RhdClcblRlcm1fbWxyIDwtIGxtKGxvZ2ZhY2UgfiBsb2dpbmNvbWUgKyBlZHVjYXRpb24gKyBudW1oaCAsIGRhdGEgPSBUZXJtNClcbmFub3ZhKFRlcm1fbWxyKSIsInNhbXBsZSI6IiMgRml0IGEgTUxSIG1vZGVsIHVzaW5nIHRoZSBiYXNlIGV4cGxhbmF0b3J5IHZhcmlhYmxlcyBwbHVzIGBzaW5nbGVgIGFuZCBhbm90aGVyIG1vZGVsIHVzaW5nIHRoZSBiYXNlIHZhcmlhYmxlcyBwbHVzIGBtYXJzdGF0YC5cblRlcm1fbWxyMSA8LSBsbShsb2dmYWNlIH4gbG9naW5jb21lICsgZWR1Y2F0aW9uICsgbnVtaGggK3NpbmdsZSwgZGF0YSA9IFRlcm00KVxuVGVybV9tbHIyIDwtIGxtKGxvZ2ZhY2UgfiBsb2dpbmNvbWUgKyBlZHVjYXRpb24gKyBudW1oaCArbWFyc3RhdCwgZGF0YSA9IFRlcm00KVxuXG4jIFVzZSB0aGUgRiB0ZXN0IHRvIGRlY2lkZSB3aGV0aGVyIHRoZSBhZGRpdGlvbmFsIGNvbXBsZXhpdHkgYG1hcnN0YXRgIGlzIHdhcnJhbnRlZCBieSBjYWxjdWxhdGluZyB0aGUgcC12YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyB0ZXN0LlxuYW5vdmEoVGVybV9tbHIxLFRlcm1fbWxyMilcblxuIyBGaXQgYSBNTFIgbW9kZWwgdXNpbmcgdGhlIGJhc2UgZXhwbGFuYXRvcnkgdmFyaWFibGVzIHBsdXMgYHNpbmdsZWAgaW50ZXJhY3RlZCB3aXRoIGBsb2dpbmNvbWVgIGFuZCBhbm90aGVyIG1vZGVsIHVzaW5nIHRoZSBiYXNlIHZhcmlhYmxlcyBwbHVzIGBtYXJzdGF0YCBpbnRlcmFjdGVkIHdpdGggYGxvZ2luY29tZWAuXG5UZXJtX21scjMgPC0gbG0obG9nZmFjZSB+IGxvZ2luY29tZSArIGVkdWNhdGlvbiArIG51bWhoICsgc2luZ2xlKmxvZ2luY29tZSwgZGF0YSA9IFRlcm00KVxuVGVybV9tbHI0IDwtIGxtKGxvZ2ZhY2UgfiBsb2dpbmNvbWUgKyBlZHVjYXRpb24gKyBudW1oaCArbWFyc3RhdCpsb2dpbmNvbWUsIGRhdGEgPSBUZXJtNClcblxuIyBVc2UgdGhlIEYgdGVzdCB0byBkZWNpZGUgd2hldGhlciB0aGUgYWRkaXRpb25hbCBjb21wbGV4aXR5IGBtYXJzdGF0YCBpcyB3YXJyYW50ZWQgYnkgY2FsY3VsYXRpbmcgdGhlIHAtdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGVzdC5cbmFub3ZhKFRlcm1fbWxyMyxUZXJtX21scjQpIiwic29sdXRpb24iOiJUZXJtX21scjEgPC0gbG0obG9nZmFjZSB+IGxvZ2luY29tZSArIGVkdWNhdGlvbiArIG51bWhoICtzaW5nbGUsIGRhdGEgPSBUZXJtNClcblRlcm1fbWxyMiA8LSBsbShsb2dmYWNlIH4gbG9naW5jb21lICsgZWR1Y2F0aW9uICsgbnVtaGggK21hcnN0YXQsIGRhdGEgPSBUZXJtNClcbmFub3ZhKFRlcm1fbWxyMSxUZXJtX21scjIpXG4jRnN0YXQxMiA8LSAoYW5vdmEoVGVybV9tbHIxKSRgU3VtIFNxYFs1XSAtIFxuIyAgICAgICAgICAgICAgYW5vdmEoVGVybV9tbHIyKSRgU3VtIFNxYFs1XSkvKDEqYW5vdmEoVGVybV9tbHIyKSRgTWVhbiBTcWBbNV0pXG4jRnN0YXQxMlxuI2NhdChcInAtdmFsdWUgaXNcIiwgMSAtIHBmKEZzdGF0MTIsIGRmMSA9IDEgLCBkZjIgPSBhbm92YShUZXJtX21scjIpJERmWzVdKSlcblRlcm1fbWxyMyA8LSBsbShsb2dmYWNlIH4gbG9naW5jb21lICsgZWR1Y2F0aW9uICsgbnVtaGggKyBzaW5nbGUqbG9naW5jb21lLCBkYXRhID0gVGVybTQpXG5UZXJtX21scjQgPC0gbG0obG9nZmFjZSB+IGxvZ2luY29tZSArIGVkdWNhdGlvbiArIG51bWhoICttYXJzdGF0KmxvZ2luY29tZSwgZGF0YSA9IFRlcm00KVxuYW5vdmEoVGVybV9tbHIzLFRlcm1fbWxyNCkiLCJzY3QiOiJleCgpICU+JSBjaGVja19vYmplY3QoXCJUZXJtX21scjFcIiAsIHVuZGVmaW5lZF9tc2c9XCJVc2UgYGxtYCB0byBjcmVhdGUgYSBsaW5lYXIgbW9kZWwgYW5kIHN0b3JlIGl0IHVuZGVyIHRoZSBuYW1lIGBUZXJtX21scjFgLlwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIllvdXIgbW9kZWwgc2hvdWxkIGV4cGxhaW4gYGxvZ2ZhY2VgIGJhc2VkIG9uIGBsb2dpbmNvbWVgLCBgZWR1Y2F0aW9uYCwgYG51bWhoYCwgYW5kIGBzaW5nbGVgIGZyb20gdGhlIGRhdGEgc2V0IGBUZXJtNGAuXCIpXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJUZXJtX21scjJcIiAsIHVuZGVmaW5lZF9tc2c9XCJVc2UgYGxtYCB0byBjcmVhdGUgYSBsaW5lYXIgbW9kZWwgYW5kIHN0b3JlIGl0IHVuZGVyIHRoZSBuYW1lIGBUZXJtX21scjJgLlwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIllvdXIgbW9kZWwgc2hvdWxkIGV4cGxhaW4gYGxvZ2ZhY2VgIGJhc2VkIG9uIGBsb2dpbmNvbWVgLCBgZWR1Y2F0aW9uYCwgYG51bWhoYCwgYW5kIGBtYXJzdGF0YCBmcm9tIHRoZSBkYXRhIHNldCBgVGVybTRgLlwiKVxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJhbm92YVwiLGluZGV4PTEsIG5vdF9jYWxsZWRfbXNnPVwiUnVuIGFuIGFub3ZhIHRlc3QgdG8gY29tcGFyZSB0aGUgdHdvIG1vZGVscyB3ZSBqdXN0IGNyZWF0ZWQuIFwiKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9XCJZb3Ugc2hvdWxkIHJ1biB0aGUgYGFub3ZhYCB0ZXN0IG9uIGBUZXJtX21scjFgIGFuZCBgVGVybV9tbHIyYC5cIilcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIlRlcm1fbWxyM1wiICwgdW5kZWZpbmVkX21zZz1cIlVzZSBgbG1gIHRvIGNyZWF0ZSBhIGxpbmVhciBtb2RlbCBhbmQgc3RvcmUgaXQgdW5kZXIgdGhlIG5hbWUgYFRlcm1fbWxyM2AuXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPVwiWW91ciBtb2RlbCBzaG91bGQgZXhwbGFpbiBgbG9nZmFjZWAgYmFzZWQgb24gYGxvZ2luY29tZWAsIGBlZHVjYXRpb25gLCBgbnVtaGhgLCBhbmQgdGhlIHByb2R1Y3Qgb2YgYHNpbmdsZWAgYW5kIGBsb2dpbmNvbWVgIGZyb20gdGhlIGRhdGEgc2V0IGBUZXJtNGAuXCIpXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJUZXJtX21scjRcIiAsIHVuZGVmaW5lZF9tc2c9XCJVc2UgYGxtYCB0byBjcmVhdGUgYSBsaW5lYXIgbW9kZWwgYW5kIHN0b3JlIGl0IHVuZGVyIHRoZSBuYW1lIGBUZXJtX21scjRgLlwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIllvdXIgbW9kZWwgc2hvdWxkIGV4cGxhaW4gYGxvZ2ZhY2VgIGJhc2VkIG9uIGBsb2dpbmNvbWVgLCBgZWR1Y2F0aW9uYCwgYG51bWhoYCwgYW5kIHRoZSBwcm9kdWN0IG9mIGBtYXJzdGF0YCBhbmQgYGxvZ2luY29tZWAgZnJvbSB0aGUgZGF0YSBzZXQgYFRlcm00YC5cIilcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwiYW5vdmFcIixpbmRleD0yLCBub3RfY2FsbGVkX21zZz1cIlJ1biBhbiBhbm92YSB0ZXN0IHRvIGNvbXBhcmUgdGhlIHR3byBuZXcgbW9kZWxzIHdlIGp1c3QgY3JlYXRlZC4gXCIpICU+JSBjaGVja19yZXN1bHQoKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1cIllvdSBzaG91bGQgcnVuIHRoZSBgYW5vdmFgIHRlc3Qgb24gYFRlcm1fbWxyM2AgYW5kIGBUZXJtX21scjRgLlwiKVxuc3VjY2Vzc19tc2coXCJDb25ncmF0dWxhdGlvbnMhIEh5cG90aGVzaXMgdGVzdGluZyBpcyBhIHByaW1hcnkgdG9vbCBmb3IgICdpbmZlcnJpbmcnIGFib3V0IHRoZSByZWFsIHdvcmxkIHtpbiBjb250cmFzdCB0byBtYXRoZW1hdGljYWwgJ2RlZHVjdGlvbicufSBNb3Jlb3ZlciwgYXMgd2Ugd2lsbCBzZWUgaW4gdGhlIG5leHQgY2hhcHRlciwgaXQgY2FuIGFsc28gYmUgdXNlZCB0byBkZXZlbG9wIGEgbW9kZWwuXCIpICAiLCJoaW50IjoiSGVyZSBpcyB0aGUgY29kZSB0byBjYWxjdWxhdGUgaXQgYnkgaGFuZCJ9
</div>
</div>
<div id="exercise.-hypothesis-testing-and-wisconsin-hospital-costs" class="section level3 hasAnchor" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Exercise. Hypothesis testing and Wisconsin hospital costs<a href="multiple-linear-regression.html#exercise.-hypothesis-testing-and-wisconsin-hospital-costs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>In a previous exercise, you were introduced to a dataset with hospital charges aggregated by:</p>
<ul>
<li><code>drg</code>, diagnostic related groups of costs,</li>
<li><code>payer</code>, type of health care provider (Fee for service, HMO, and other), and</li>
<li><code>hsa</code>, nine major geographic areas.</li>
</ul>
<p>We continue our analysis of the outcome variable <code>logcharge</code>, the logarithm of total hospital charges per number of discharges, in terms of <code>log_numdschg</code>, the logarithm of the number of discharges, as well as the three categorical variables used in the aggregation. As before, we restrict consideration to three types of drgs, numbers 209, 391, and 431 that has been preloaded in the dataframe <code>Hcost1</code>.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Fit a basic linear regression model using logarithmic hospital costs as the outcome variable and explanatory variable logarithmic number of discharges.</li>
<li>Fit a MLR model using logarithmic hospital costs as the outcome variable and explanatory variables logarithmic number of discharges and the categorical variable diagnostic related group. Identify the <em>F</em> statistic and <em>p</em> value that test the importance of diagnostic related group.</li>
<li>Fit a MLR model using logarithmic hospital costs as the outcome variable and explanatory variable logarithmic number of discharges interacted with diagnostic related group. Identify the <em>F</em> statistic and <em>p</em> value that test the importance of diagnostic related group interaction with logarithmic number of discharges.</li>
<li>Calculate a coefficient of determination, <span class="math inline">\(R^2\)</span>, for each of these models as well as for a model using logarithmic number of discharges and categorical variable <code>hsa</code> as predictors.</li>
</ul>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6IiNIY29zdCA8LSByZWFkLmNzdihcIkNTVkRhdGFcXFxcV2lzY0hjb3N0cy5jc3ZcIiwgaGVhZGVyID0gVFJVRSlcbkhjb3N0IDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9hc3NldHMuZGF0YWNhbXAuY29tL3Byb2R1Y3Rpb24vcmVwb3NpdG9yaWVzLzI2MTAvZGF0YXNldHMvMmNjMWUyNzM5YmY4MjcwOTNkYjMxZDdjNGU2ZGNkYzM0OGFjOTg0ZS9XaXNjSGNvc3RzLmNzdlwiLCBoZWFkZXIgPSBUUlVFKVxuSGNvc3QxIDwtIHN1YnNldChIY29zdCwgZHJnID09IDIwOXxkcmcgPT0gMzkxfGRyZyA9PSA0MzApIiwic2FtcGxlIjoiIyBSZWdyZXNzIGxvZyBjaGFyZ2VzIG9uIGxvZyBudW1iZXIgb2YgZGlzY2hhcmdlc1xuaG9zcF9ibHIgPC0gbG0obG9nY2hhcmdlIH4gbG9nX251bWRzY2hnICwgZGF0YT1IY29zdDEpXG5hbm92YShob3NwX2JscilcblxuIyBSZWdyZXNzIGxvZyBjaGFyZ2VzIG9uIGxvZyBudW1iZXIgb2YgZGlzY2hhcmdlcyBhbmQgZHJnLiBJZGVudGlmeSB0aGUgKkYqIHN0YXRpc3RpYyBhbmQgKnAqIHZhbHVlIHRoYXQgdGVzdCB0aGUgaW1wb3J0YW5jZSBvZiBkaWFnbm9zdGljIHJlbGF0ZWQgZ3JvdXAuXG5ob3NwX21scjEgPC0gbG0obG9nY2hhcmdlIH4gbG9nX251bWRzY2hnICsgYXMuZmFjdG9yKGRyZyksIGRhdGE9SGNvc3QxKVxuYW5vdmEoaG9zcF9tbHIxKVxuXG4jIFJlZ3Jlc3MgbG9nIGNoYXJnZXMgb24gdGhlIGludGVyYWN0aW9uIG9mIGxvZyBudW1iZXIgb2YgZGlzY2hhcmdlcyBhbmQgZHJnLiBcbmhvc3BfbWxyMiA8LSBsbShsb2djaGFyZ2UgfiBsb2dfbnVtZHNjaGcgKyBhcy5mYWN0b3IoZHJnKSpsb2dfbnVtZHNjaGcsIGRhdGE9SGNvc3QxKVxuYW5vdmEoaG9zcF9tbHIyKVxuXG4jIENhbGN1bGF0ZSBhIGNvZWZmaWNpZW50IG9mIGRldGVybWluYXRpb24sICRSXjIkLCBmb3IgZWFjaCBvZiB0aGVzZSBtb2RlbHMgYXMgd2VsbCBhcyBmb3IgYSBtb2RlbCB1c2luZyBsb2dhcml0aG1pYyBudW1iZXIgb2YgZGlzY2hhcmdlcyBhbmQgY2F0ZWdvcmljYWwgdmFyaWFibGUgYGhzYWAgYXMgcHJlZGljdG9ycy5cbnN1bW1hcnkoaG9zcF9ibHIpJHIuc3F1YXJlZFxuc3VtbWFyeShob3NwX21scjEpJHIuc3F1YXJlZFxuc3VtbWFyeShob3NwX21scjIpJHIuc3F1YXJlZFxuXG5ob3NwX21scjMgPC0gbG0obG9nY2hhcmdlIH4gbG9nX251bWRzY2hnICsgYXMuZmFjdG9yKGhzYSkqbG9nX251bWRzY2hnLCBkYXRhPUhjb3N0MSlcbnN1bW1hcnkoaG9zcF9tbHIzKSRyLnNxdWFyZWQiLCJzb2x1dGlvbiI6Imhvc3BfYmxyIDwtIGxtKGxvZ2NoYXJnZSB+IGxvZ19udW1kc2NoZyAsIGRhdGE9SGNvc3QxKVxuYW5vdmEoaG9zcF9ibHIpXG5ob3NwX21scjEgPC0gbG0obG9nY2hhcmdlIH4gbG9nX251bWRzY2hnICsgYXMuZmFjdG9yKGRyZyksIGRhdGE9SGNvc3QxKVxuYW5vdmEoaG9zcF9tbHIxKVxuaG9zcF9tbHIyIDwtIGxtKGxvZ2NoYXJnZSB+IGxvZ19udW1kc2NoZyArIGFzLmZhY3RvcihkcmcpKmxvZ19udW1kc2NoZywgZGF0YT1IY29zdDEpXG5hbm92YShob3NwX21scjIpXG5zdW1tYXJ5KGhvc3BfYmxyKSRyLnNxdWFyZWRcbnN1bW1hcnkoaG9zcF9tbHIxKSRyLnNxdWFyZWRcbnN1bW1hcnkoaG9zcF9tbHIyKSRyLnNxdWFyZWRcblxuaG9zcF9tbHIzIDwtIGxtKGxvZ2NoYXJnZSB+IGxvZ19udW1kc2NoZyArIGFzLmZhY3Rvcihoc2EpKmxvZ19udW1kc2NoZywgZGF0YT1IY29zdDEpXG5zdW1tYXJ5KGhvc3BfbWxyMykkci5zcXVhcmVkIiwic2N0Ijoic3VjY2Vzc19tc2coXCJDb25ncmF0dWxhdGlvbnMhIEJ5IGV4YW1pbmluZyB0aGUgY29lZmZpY2llbnRzIG9mIGRldGVybWluYXRpb24sICRSXjIkLCBmb3IgZWFjaCBvZiB0aGVzZSBtb2RlbHMsIHlvdSBzZWUgdGhhdCB0aGlzIHByb3ZpZGVzIG9uZSBwaWVjZSBvZiBldmlkZW5jZSB0aGF0IHRoZSBgaHNhYCBpcyBhIGZhciBwb29yZXIgcHJlZGljdG9yIG9mIGNvc3RzIHRoYW4gYGRyZ2AuXCIpIiwiaGludCI6IlRoaXMgZW50aXJlIGV4ZXJjaXNlIGNhbiBiZSBjb21wbGV0ZWQgdXNpbmcgMyBmdW5jdGlvbnM6PGNvZGU+bG0oKTwvY29kZT4sIDxjb2RlPmFub3ZhKCk8L2NvZGU+LCBhbmQgPGNvZGU+c3VtbWFyeSgpPC9jb2RlPiJ9
</div>
</div>
<div id="exercise.-hypothesis-testing-and-auto-claims" class="section level3 hasAnchor" number="3.5.4">
<h3><span class="header-section-number">3.5.4</span> Exercise. Hypothesis testing and auto claims<a href="multiple-linear-regression.html#exercise.-hypothesis-testing-and-auto-claims" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Assignment Text</strong></p>
<p>As an actuarial analyst, you are working with a large insurance company to help them understand their claims distribution for their private passenger automobile policies. You have available claims data for a recent year, consisting of:</p>
<ul>
<li><code>state</code>: codes 01 through 17 used, with each code randomly assigned to an actual individual state</li>
<li><code>class</code>: rating class of operator, based on age, gender, marital status, and use of vehicle</li>
<li><code>gender</code>: operator gender</li>
<li><code>age</code>: operator age</li>
<li><code>paid</code>: amount paid to settle and close a claim.</li>
</ul>
<p>You are focusing on older drivers, 50 and higher, for which there are <em>n</em> = 6,773 claims available.</p>
<p><strong>Instructions</strong></p>
<ol style="list-style-type: lower-alpha">
<li><p>Run a regression of <code>logpaid</code> on <code>age</code>. Is <code>age</code> a statistically significant variable? To respond to this question, use a formal test of hypothesis. State your null and alternative hypotheses, decision-making criterion, and your decision-making rule. Also comment on the goodness of fit of this variable.</p></li>
<li><p>Consider using class as a single explanatory variable. Use the one factor to estimate the model and respond to the following questions.</p>
<p>b (i). What is the point estimate of claims in class C7, drivers 50-69, driving to work or school, less than 30 miles per week with annual mileage under 7500, in natural logarithmic units?</p>
<p>b (ii). Determine the corresponding 95% confidence interval of expected claims, in natural logarithmic units.</p>
<p>b (iii). Convert the 95% confidence interval of expected claims that you determined in part b(ii) to dollars.</p></li>
<li><p>Run a regression of <code>logpaid</code> on <code>age</code>, <code>gender</code> and the categorical variables <code>state</code> and <code>class</code>.</p>
<p>c (i). Is <code>gender</code> a statistically significant variable? To respond to this question, use a formal test of hypothesis. State your null and alternative hypotheses, decision-making criterion, and your decision-making rule.</p>
<p>c (ii). Is <code>class</code> a statistically significant variable? To respond to this question, use a formal test of hypothesis. State your null and alternative hypotheses, decision-making criterion, and your decision-making rule.</p>
<p>c (iii). Use the model to provide a point estimate of claims in dollars (not log dollars) for a male age 60 in STATE 2 in <code>class</code> C7.</p>
<p>c (iv). Write down the coefficient associated with <code>class</code> C7 and interpret this coefficient.</p></li>
</ol>
<p><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-157-1.png" width="672" /><img src="RegressModelDataCamp_files/figure-html/unnamed-chunk-157-2.png" width="672" /></p>
<pre><code>
Call:
lm(formula = logpaid ~ class, data = AutoC)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.7002 -0.6912 -0.0437  0.7128  4.1009 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  6.940938   0.039699 174.838   &lt;2e-16 ***
classC11     0.010564   0.050696   0.208   0.8349    
classC1A    -0.075432   0.128202  -0.588   0.5563    
classC1B     0.057420   0.065380   0.878   0.3798    
classC1C    -0.154707   0.178007  -0.869   0.3848    
classC2     -0.139442   0.142595  -0.978   0.3282    
classC6     -0.015057   0.053217  -0.283   0.7772    
classC7     -0.039775   0.053191  -0.748   0.4546    
classC71     0.012730   0.050887   0.250   0.8025    
classC72     0.241716   0.122626   1.971   0.0487 *  
classC7A     0.122755   0.108174   1.135   0.2565    
classC7B     0.131512   0.056956   2.309   0.0210 *  
classC7C     0.302596   0.125307   2.415   0.0158 *  
classF1      0.062962   0.202561   0.311   0.7559    
classF11    -0.136891   0.173726  -0.788   0.4307    
classF6     -0.030546   0.094148  -0.324   0.7456    
classF7     -0.363874   0.144807  -2.513   0.0120 *  
classF71    -0.005476   0.117810  -0.046   0.9629    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.07 on 6755 degrees of freedom
Multiple R-squared:  0.005048,  Adjusted R-squared:  0.002544 
F-statistic: 2.016 on 17 and 6755 DF,  p-value: 0.00786


Call:
lm(formula = logpaid ~ state, data = AutoC)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.6555 -0.6847 -0.0415  0.7005  4.0788 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    6.82202    0.08286  82.328  &lt; 2e-16 ***
stateSTATE 02  0.11739    0.08878   1.322 0.186133    
stateSTATE 03  0.02224    0.10071   0.221 0.825246    
stateSTATE 04  0.05195    0.09262   0.561 0.574893    
stateSTATE 06  0.30735    0.09327   3.295 0.000988 ***
stateSTATE 07  0.10127    0.10537   0.961 0.336562    
stateSTATE 10  0.21247    0.10486   2.026 0.042787 *  
stateSTATE 11  0.17462    0.36540   0.478 0.632751    
stateSTATE 12  0.40876    0.10715   3.815 0.000138 ***
stateSTATE 13  0.21792    0.11111   1.961 0.049890 *  
stateSTATE 14  0.06485    0.11667   0.556 0.578297    
stateSTATE 15  0.08479    0.08596   0.986 0.323956    
stateSTATE 17  0.22406    0.09585   2.338 0.019442 *  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.068 on 6760 degrees of freedom
Multiple R-squared:  0.008109,  Adjusted R-squared:  0.006348 
F-statistic: 4.606 on 12 and 6760 DF,  p-value: 1.749e-07

Analysis of Variance Table

Response: logpaid
            Df Sum Sq Mean Sq F value    Pr(&gt;F)    
state       12   63.0  5.2495  4.6055 1.749e-07 ***
Residuals 6760 7705.2  1.1398                      
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Call:
lm(formula = logpaid ~ class + state + age + gender, data = AutoC)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.7266 -0.6802 -0.0433  0.7072  4.1809 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    6.974923   0.140144  49.770  &lt; 2e-16 ***
classC11       0.055573   0.051695   1.075 0.282410    
classC1A      -0.110591   0.128238  -0.862 0.388506    
classC1B       0.022671   0.066388   0.341 0.732740    
classC1C      -0.160355   0.178056  -0.901 0.367842    
classC2       -0.183935   0.142784  -1.288 0.197719    
classC6        0.057560   0.058767   0.979 0.327395    
classC7       -0.021854   0.054531  -0.401 0.688605    
classC71       0.024622   0.053049   0.464 0.642569    
classC72       0.260057   0.123451   2.107 0.035192 *  
classC7A       0.119315   0.108879   1.096 0.273183    
classC7B       0.124196   0.059098   2.102 0.035634 *  
classC7C       0.299023   0.126300   2.368 0.017934 *  
classF1        0.130054   0.202380   0.643 0.520491    
classF11      -0.058684   0.174394  -0.337 0.736503    
classF6        0.068612   0.098270   0.698 0.485079    
classF7       -0.309974   0.145271  -2.134 0.032898 *  
classF71       0.029459   0.118848   0.248 0.804239    
stateSTATE 02  0.098538   0.089280   1.104 0.269765    
stateSTATE 03  0.006302   0.101050   0.062 0.950272    
stateSTATE 04  0.019266   0.093712   0.206 0.837118    
stateSTATE 06  0.283853   0.094105   3.016 0.002568 ** 
stateSTATE 07  0.076593   0.106361   0.720 0.471475    
stateSTATE 10  0.181802   0.105448   1.724 0.084739 .  
stateSTATE 11  0.172272   0.365574   0.471 0.637487    
stateSTATE 12  0.388006   0.108333   3.582 0.000344 ***
stateSTATE 13  0.188491   0.111980   1.683 0.092371 .  
stateSTATE 14  0.068141   0.116720   0.584 0.559373    
stateSTATE 15  0.065570   0.086624   0.757 0.449110    
stateSTATE 17  0.199398   0.096914   2.057 0.039680 *  
age           -0.003021   0.001690  -1.787 0.073914 .  
genderM        0.038953   0.026907   1.448 0.147747    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.066 on 6741 degrees of freedom
Multiple R-squared:  0.01365,   Adjusted R-squared:  0.009113 
F-statistic: 3.009 on 31 and 6741 DF,  p-value: 4.354e-08

Analysis of Variance Table

Response: logpaid
            Df Sum Sq Mean Sq F value    Pr(&gt;F)    
class       17   39.2  2.3066  2.0293  0.007346 ** 
state       12   61.0  5.0841  4.4728 3.354e-07 ***
age          1    3.4  3.4284  3.0162  0.082480 .  
gender       1    2.4  2.3823  2.0958  0.147747    
Residuals 6741 7662.2  1.1367                      
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-linear-regression.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="variable-selection.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"google": true,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/Chapters/Chapter3.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
